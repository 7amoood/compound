import{_ as f,c as l,o as n,a as c,g as u,F as v,f as p,e as y,b as r,t as h,T as b,y as w,w as x,z as k,d,A as m,n as D,x as _,B as E}from"./app-v5crh6tZ.js";const Y={name:"Toast",data(){return{toasts:[],icons:{success:"check_circle",error:"error",warning:"warning",info:"info"},colors:{success:"bg-emerald-500",error:"bg-red-500",warning:"bg-amber-500",info:"bg-primary"}}},mounted(){window.showToast=this.add},methods:{add(e,t="info"){const s=Date.now();this.toasts.push({id:s,message:e,type:t}),setTimeout(()=>this.remove(s),3e3)},remove(e){this.toasts=this.toasts.filter(t=>t.id!==e)}}},B={class:"fixed top-4 left-4 right-4 z-[100] flex flex-col gap-2 items-center pointer-events-none",dir:"rtl"},L={class:"material-symbols-outlined text-[20px]"},M={class:"text-sm font-medium"};function S(e,t,s,g,i,o){return n(),l("div",B,[c(b,{name:"toast"},{default:u(()=>[(n(!0),l(v,null,p(i.toasts,a=>(n(),l("div",{key:a.id,class:y(["pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl text-white shadow-lg max-w-sm",i.colors[a.type]||i.colors.info])},[r("span",L,h(i.icons[a.type]||i.icons.info),1),r("span",M,h(a.message),1)],2))),128))]),_:1})])}const F=f(Y,[["render",S],["__scopeId","data-v-3aa52dd6"]]),T={name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],data(){return{closedByBack:!1,startY:0,currentY:0,isDragging:!1}},computed:{sheetStyle(){return{transform:this.isDragging?`translateY(${this.currentY}px)`:"",transition:this.isDragging?"none":""}}},mounted(){document.addEventListener("keydown",this.handleEscape)},beforeUnmount(){document.removeEventListener("keydown",this.handleEscape),this.stopDrag()},watch:{show(e){e?(this.currentY=0,window.history.pushState({modal:!0},""),window.addEventListener("popstate",this.handlePopState),document.body.style.overflow="hidden"):(window.removeEventListener("popstate",this.handlePopState),this.closedByBack?this.closedByBack=!1:window.history.state?.modal&&window.history.back(),document.body.style.overflow="")}},methods:{closeModal(){this.$emit("close")},handleEscape(e){e.key==="Escape"&&this.show&&this.closeModal()},handlePopState(){this.show&&(this.closedByBack=!0,this.closeModal())},startDrag(e){this.isDragging=!0,this.startY=e.type.includes("touch")?e.touches[0].clientY:e.clientY,document.addEventListener("mousemove",this.onDrag),document.addEventListener("touchmove",this.onDrag,{passive:!1}),document.addEventListener("mouseup",this.stopDrag),document.addEventListener("touchend",this.stopDrag)},onDrag(e){if(!this.isDragging)return;const s=(e.type.includes("touch")?e.touches[0].clientY:e.clientY)-this.startY;s>0&&(this.currentY=s,e.cancelable&&e.preventDefault())},stopDrag(){this.isDragging&&(this.isDragging=!1,document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("touchmove",this.onDrag),document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("touchend",this.stopDrag),this.currentY>120?this.closeModal():this.currentY=0)}}},z={class:"fixed inset-0 z-[100] flex items-end justify-center overflow-hidden"},C={class:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800/50"},j={key:0,class:"text-xl font-bold text-slate-900 dark:text-white tracking-tight"},N={class:"flex-1 overflow-y-auto no-scrollbar p-6 pb-24"};function P(e,t,s,g,i,o){return n(),w(E,{to:"body"},[x(r("div",z,[c(m,{"enter-active-class":"transition-opacity duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition-opacity duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:u(()=>[s.show?(n(),l("div",{key:0,class:"absolute inset-0 bg-[#0d141b]/60 backdrop-blur-[4px]",onClick:t[0]||(t[0]=(...a)=>o.closeModal&&o.closeModal(...a))})):d("",!0)]),_:1}),c(m,{"enter-active-class":"transition-transform duration-500 cubic-bezier(0.32, 0.72, 0, 1)","enter-from-class":"translate-y-full","enter-to-class":"translate-y-0","leave-active-class":"transition-transform duration-400 cubic-bezier(0.32, 0.72, 0, 1)","leave-from-class":"translate-y-0","leave-to-class":"translate-y-full"},{default:u(()=>[s.show?(n(),l("div",{key:0,ref:"modalSheet",class:"relative z-20 flex flex-col max-h-[96vh] w-full max-w-md rounded-t-[2.5rem] bg-surface-light dark:bg-surface-dark shadow-[0_-10px_40px_rgba(0,0,0,0.3)] border-t border-white/5",style:D(o.sheetStyle),dir:"rtl"},[r("div",{class:"flex w-full items-center justify-center pt-4 pb-2 cursor-grab active:cursor-grabbing touch-none",onMousedown:t[1]||(t[1]=(...a)=>o.startDrag&&o.startDrag(...a)),onTouchstart:t[2]||(t[2]=(...a)=>o.startDrag&&o.startDrag(...a))},[...t[4]||(t[4]=[r("div",{class:"h-1.5 w-14 rounded-full bg-slate-200 dark:bg-slate-700/50"},null,-1)])],32),r("div",C,[s.title?(n(),l("h2",j,h(s.title),1)):d("",!0),r("button",{onClick:t[3]||(t[3]=(...a)=>o.closeModal&&o.closeModal(...a)),class:"flex h-10 w-10 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 transition-all active:scale-95"},[...t[5]||(t[5]=[r("span",{class:"material-symbols-outlined",style:{"font-size":"22px"}},"close",-1)])])]),r("div",N,[_(e.$slots,"default",{},void 0,!0)])],4)):d("",!0)]),_:3})],512),[[k,s.show]])])}const I=f(T,[["render",P],["__scopeId","data-v-b9ddd227"]]);export{I as M,F as T};
