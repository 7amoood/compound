import{_ as u,c as i,o as l,a as m,g as f,F as g,f as p,e as v,b as s,t as d,T as b,d as c,n as w,x}from"./app-Cr65QUoq.js";const y={name:"Toast",data(){return{toasts:[],icons:{success:"check_circle",error:"error",warning:"warning",info:"info"},colors:{success:"bg-emerald-500",error:"bg-red-500",warning:"bg-amber-500",info:"bg-primary"}}},mounted(){window.showToast=this.add},methods:{add(e,t="info"){const o=Date.now();this.toasts.push({id:o,message:e,type:t}),setTimeout(()=>this.remove(o),3e3)},remove(e){this.toasts=this.toasts.filter(t=>t.id!==e)}}},k={class:"fixed top-4 left-4 right-4 z-[100] flex flex-col gap-2 items-center pointer-events-none",dir:"rtl"},D={class:"material-symbols-outlined text-[20px]"},_={class:"text-sm font-medium"};function E(e,t,o,h,a,n){return l(),i("div",k,[m(b,{name:"toast"},{default:f(()=>[(l(!0),i(g,null,p(a.toasts,r=>(l(),i("div",{key:r.id,class:v(["pointer-events-auto flex items-center gap-3 px-4 py-3 rounded-xl text-white shadow-lg max-w-sm",a.colors[r.type]||a.colors.info])},[s("span",D,d(a.icons[r.type]||a.icons.info),1),s("span",_,d(r.message),1)],2))),128))]),_:1})])}const M=u(y,[["render",E],["__scopeId","data-v-3aa52dd6"]]),Y={name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],data(){return{closedByBack:!1,startY:0,currentY:0,isDragging:!1}},computed:{sheetStyle(){return{transform:`translateY(${this.currentY}px)`,transition:this.isDragging?"none":"transform 0.3s ease-out"}}},mounted(){document.addEventListener("keydown",this.handleEscape)},beforeUnmount(){document.removeEventListener("keydown",this.handleEscape),this.stopDrag()},watch:{show(e){e?(this.currentY=0,window.history.pushState({modal:!0},""),window.addEventListener("popstate",this.handlePopState)):(window.removeEventListener("popstate",this.handlePopState),this.closedByBack?this.closedByBack=!1:window.history.back())}},methods:{handleEscape(e){e.key==="Escape"&&this.show&&this.$emit("close")},handlePopState(){this.show&&(this.closedByBack=!0,this.$emit("close"))},startDrag(e){this.isDragging=!0,this.startY=e.type.includes("touch")?e.touches[0].clientY:e.clientY,document.addEventListener("mousemove",this.onDrag),document.addEventListener("touchmove",this.onDrag,{passive:!1}),document.addEventListener("mouseup",this.stopDrag),document.addEventListener("touchend",this.stopDrag)},onDrag(e){if(!this.isDragging)return;const o=(e.type.includes("touch")?e.touches[0].clientY:e.clientY)-this.startY;o>0&&(this.currentY=o,e.cancelable&&e.preventDefault())},stopDrag(){this.isDragging&&(this.isDragging=!1,document.removeEventListener("mousemove",this.onDrag),document.removeEventListener("touchmove",this.onDrag),document.removeEventListener("mouseup",this.stopDrag),document.removeEventListener("touchend",this.stopDrag),this.currentY>100?this.$emit("close"):this.currentY=0)}}},L={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},B={class:"relative h-screen w-full flex flex-col mx-auto max-w-md overflow-hidden"},S={class:"flex items-center justify-between px-6 py-4 border-b border-slate-100 dark:border-slate-800"},$={key:0,class:"text-xl font-bold text-slate-900 dark:text-white tracking-tight"},T={class:"flex-1 overflow-y-auto no-scrollbar p-6 pb-24"};function z(e,t,o,h,a,n){return o.show?(l(),i("div",L,[s("div",B,[s("div",{class:"absolute inset-0 z-10 bg-[#0d141b]/60 backdrop-blur-[2px]",onClick:t[0]||(t[0]=r=>e.$emit("close"))}),s("div",{ref:"modalSheet",class:"absolute bottom-0 left-0 right-0 z-20 flex flex-col max-h-[92vh] w-full rounded-t-3xl bg-surface-light dark:bg-surface-dark shadow-[0_-8px_30px_rgba(0,0,0,0.12)] transition-transform duration-300 ease-out",style:w(n.sheetStyle),dir:"rtl"},[s("div",{class:"flex w-full items-center justify-center pt-3 pb-2 cursor-grab active:cursor-grabbing touch-none",onMousedown:t[1]||(t[1]=(...r)=>n.startDrag&&n.startDrag(...r)),onTouchstart:t[2]||(t[2]=(...r)=>n.startDrag&&n.startDrag(...r))},[...t[4]||(t[4]=[s("div",{class:"h-1.5 w-12 rounded-full bg-slate-300 dark:bg-slate-600"},null,-1)])],32),s("div",S,[o.title?(l(),i("h2",$,d(o.title),1)):c("",!0),s("button",{onClick:t[3]||(t[3]=r=>e.$emit("close")),class:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 dark:bg-slate-800 text-slate-500 hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors"},[...t[5]||(t[5]=[s("span",{class:"material-symbols-outlined",style:{"font-size":"20px"}},"close",-1)])])]),s("div",T,[x(e.$slots,"default",{},void 0)])],4)])])):c("",!0)}const j=u(Y,[["render",z],["__scopeId","data-v-d3d93d95"]]);export{j as M,M as T};
