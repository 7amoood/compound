import{k as T,l as C,c as i,o as n,m as h,d as s,n as k,b as a,t as r,p as u,q as c,v as p,F as b,s as f,w as y,e as v,u as M,x as R,g as U,y as j,a as m,z as P}from"./vendor-CI1Fej2Q.js";import{M as D,T as V}from"./Modal-DCVUoU58.js";import{_ as E}from"./app-CG4YV_Mf.js";/* empty css            */const z={name:"AdminDashboard",components:{Head:T,Toast:V,Modal:D},data(){return{loading:!0,loadingRequests:!0,stats:{},users:[],services:[],requests:[],searchQuery:"",activeSection:"users",userFilter:"all",userFilters:[{id:"all",label:"الكل"},{id:"resident",label:"المقيمين"},{id:"provider",label:"مقدمي الخدمات"},{id:"inactive",label:"غير مفعل"}],requestFilter:"all",requestFilters:[{id:"all",label:"الكل"},{id:"pending",label:"قيد الانتظار"},{id:"accepted_offer",label:"تم قبول عرض"},{id:"in_progress",label:"جاري التنفيذ"},{id:"completed",label:"مكتمل"}],showUserModal:!1,showRequestModal:!1,showServiceModal:!1,showCompoundModal:!1,selectedUser:null,selectedRequest:null,selectedService:null,selectedCompound:null,editingUser:!1,editingService:!1,editingCompound:!1,savingUser:!1,savingService:!1,savingCompound:!1,userForm:{name:"",phone:"",compound_id:"",block_no:"",floor:"",apt_no:"",role:""},serviceForm:{name:"",icon:"",description:"",delivery_methods:[],new_delivery_method:""},compoundForm:{name:"",address:"",location_url:""},compounds:[],loadingCompounds:!1,markets:[],loadingMarkets:!1,selectedMarket:null,showMarketModal:!1,editingMarket:!1,savingMarket:!1,marketForm:{name:"",description:"",phone:"",logo:"",is_active:!0},nextUsersUrl:null,nextRequestsUrl:null,loadingMoreRequests:!1,showPasswordModal:!1,passwordChangeUser:null,newPassword:"",confirmPassword:"",changingPassword:!1,searchDebounceTimer:null}},computed:{user(){const o=P();return o.props.auth?o.props.auth.user:{}},csrfToken(){return document.querySelector('meta[name="csrf-token"]')?.getAttribute("content")},filteredRequests(){let o=this.requests;if(this.requestFilter!=="all"&&(o=o.filter(e=>e.status===this.requestFilter)),this.searchQuery&&this.activeSection==="requests"){const e=this.searchQuery.toLowerCase();o=o.filter(x=>x.category?.name?.toLowerCase().includes(e)||x.resident?.name?.toLowerCase().includes(e)||x.notes?.toLowerCase().includes(e))}return o}},watch:{activeSection(o){const e=new URL(window.location);e.searchParams.set("tab",o),window.history.pushState({},"",e)},searchQuery(){this.searchDebounceTimer&&clearTimeout(this.searchDebounceTimer),this.searchDebounceTimer=setTimeout(()=>{this.loadUsers()},500)},userFilter(o){const e=new URL(window.location);o&&o!=="all"?e.searchParams.set("user_filter",o):e.searchParams.delete("user_filter"),window.history.pushState({},"",e),this.loadUsers()},requestFilter(o){const e=new URL(window.location);o&&o!=="all"?e.searchParams.set("request_filter",o):e.searchParams.delete("request_filter"),window.history.pushState({},"",e)}},mounted(){const o=new URLSearchParams(window.location.search),e=o.get("tab");e&&["users","requests","services","compounds","markets"].includes(e)&&(this.activeSection=e);const x=o.get("user_filter");x&&(this.userFilter=x);const _=o.get("request_filter");_&&(this.requestFilter=_),this.loadStats(),this.loadUsers(),this.loadServices(),this.loadRequests(),this.loadCompounds(),this.loadMarkets()},methods:{async loadStats(){try{const o=await m.get("/api/admin/stats");o.data.success&&(this.stats=o.data.stats)}catch(o){console.error(o)}},async loadUsers(){this.loading=!0;try{const o=new URLSearchParams;this.searchQuery&&o.append("search",this.searchQuery),this.userFilter==="resident"?o.append("role","resident"):this.userFilter==="provider"?o.append("role","provider"):this.userFilter==="inactive"&&o.append("is_active","0");const e=`/api/users${o.toString()?"?"+o.toString():""}`,x=await m.get(e);x.data.success&&(this.users=x.data.users.data,this.nextUsersUrl=x.data.users.next_page_url)}catch(o){console.error(o)}finally{this.loading=!1}},async loadMoreUsers(){if(!(!this.nextUsersUrl||this.loadingMoreUsers)){this.loadingMoreUsers=!0;try{const o=await m.get(this.nextUsersUrl);o.data.success&&(this.users=[...this.users,...o.data.users.data],this.nextUsersUrl=o.data.users.next_page_url)}catch(o){console.error(o)}finally{this.loadingMoreUsers=!1}}},async loadServices(){try{const o=await m.get("/api/services");o.data.success&&(this.services=o.data.categories)}catch(o){console.error(o)}},async loadRequests(){this.loadingRequests=!0;try{const o=await m.get("/api/requests");o.data.success&&(this.requests=o.data.requests.data,this.nextRequestsUrl=o.data.requests.next_page_url)}catch(o){console.error(o)}finally{this.loadingRequests=!1}},async loadMoreRequests(){if(!(!this.nextRequestsUrl||this.loadingMoreRequests)){this.loadingMoreRequests=!0;try{const o=await m.get(this.nextRequestsUrl);o.data.success&&(this.requests=[...this.requests,...o.data.requests.data],this.nextRequestsUrl=o.data.requests.next_page_url)}catch(o){console.error(o)}finally{this.loadingMoreRequests=!1}}},openAddService(){this.selectedService=null,this.serviceForm={name:"",icon:"",description:"",delivery_methods:[],new_delivery_method:""},this.editingService=!0,this.showServiceModal=!0},getServiceColor(o){const e=["bg-blue-50 dark:bg-blue-900/20","bg-purple-50 dark:bg-purple-900/20","bg-rose-50 dark:bg-rose-900/20","bg-amber-50 dark:bg-amber-900/20","bg-emerald-50 dark:bg-emerald-900/20","bg-cyan-50 dark:bg-cyan-900/20"];return e[o%e.length]},getServiceTextColor(o){const e=["text-blue-600","text-purple-600","text-rose-600","text-amber-600","text-emerald-600","text-cyan-600"];return e[o%e.length]},getServiceStyle(o){return{}},async toggleUserStatus(o){try{(await m.post(`/api/admin/users/${o.id}/toggle-status`)).data.success&&(o.is_active=!o.is_active,window.showToast&&window.showToast("تم تحديث حالة المستخدم","success"))}catch{window.showToast&&window.showToast("حدث خطأ","error")}},openChangePasswordModal(o){this.passwordChangeUser=o,this.newPassword="",this.confirmPassword="",this.showPasswordModal=!0},async changeUserPassword(){if(!this.newPassword||this.newPassword!==this.confirmPassword){window.showToast&&window.showToast("كلمات المرور غير متطابقة","error");return}if(this.newPassword.length<6){window.showToast&&window.showToast("كلمة المرور يجب أن تكون 6 أحرف على الأقل","error");return}this.changingPassword=!0;try{const o=await m.post(`/api/admin/users/${this.passwordChangeUser.id}/change-password`,{password:this.newPassword,password_confirmation:this.confirmPassword});o.data.success?(window.showToast&&window.showToast("تم تغيير كلمة المرور بنجاح","success"),this.showPasswordModal=!1,this.newPassword="",this.confirmPassword="",this.passwordChangeUser=null):window.showToast&&window.showToast(o.data.message||"حدث خطأ","error")}catch(o){console.error(o),window.showToast&&window.showToast("حدث خطأ أثناء تغيير كلمة المرور","error")}finally{this.changingPassword=!1}},async toggleServiceStatus(o){try{const e=await m.post(`/api/admin/services/${o.id}/toggle-status`);e.data.success&&(o.is_active=e.data.is_active,window.showToast&&window.showToast(`تم ${o.is_active?"تفعيل":"إيقاف"} الخدمة`,"success"),this.loadStats())}catch{window.showToast&&window.showToast("حدث خطأ أثناء تحديث حالة الخدمة","error")}},formatDate(o){return new Date(o).toLocaleDateString("ar-EG",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},openUserDetails(o){this.selectedUser=o,this.editingUser=!1,this.showUserModal=!0},openRequestDetails(o){this.selectedRequest=o,this.showRequestModal=!0},openServiceDetails(o){this.selectedService=o,this.editingService=!1,this.showServiceModal=!0},startEditUser(){this.userForm={name:this.selectedUser.name||"",phone:this.selectedUser.phone||"",compound_id:this.selectedUser.compound_id||"",block_no:this.selectedUser.block_no||"",floor:this.selectedUser.floor||"",apt_no:this.selectedUser.apt_no||"",role:this.selectedUser.role||"resident"},this.editingUser=!0},async saveUser(){this.savingUser=!0;try{const o=await m.put(`/api/admin/users/${this.selectedUser.id}`,this.userForm);o.data.success?(Object.assign(this.selectedUser,this.userForm),this.editingUser=!1,window.showToast&&window.showToast("تم حفظ بيانات المستخدم بنجاح","success")):window.showToast&&window.showToast(o.data.message||"حدث خطأ","error")}catch(o){window.showToast&&window.showToast(o.response?.data?.message||"حدث خطأ أثناء الحفظ","error")}finally{this.savingUser=!1}},startEditService(){this.serviceForm={name:this.selectedService.name||"",icon:this.selectedService.icon||"",description:this.selectedService.description||"",delivery_methods:this.selectedService.delivery_methods?[...this.selectedService.delivery_methods]:[],new_delivery_method:""},this.editingService=!0},addDeliveryMethod(){const o=this.serviceForm.new_delivery_method.trim();o&&!this.serviceForm.delivery_methods.includes(o)&&(this.serviceForm.delivery_methods.push(o),this.serviceForm.new_delivery_method="")},removeDeliveryMethod(o){this.serviceForm.delivery_methods.splice(o,1)},async saveService(){this.savingService=!0;try{let o;this.selectedService&&this.selectedService.id?o=await m.put(`/api/admin/services/${this.selectedService.id}`,this.serviceForm):o=await m.post("/api/services",this.serviceForm),o.data.success?(this.selectedService&&this.selectedService.id?Object.assign(this.selectedService,this.serviceForm):this.services.push(o.data.category),this.showServiceModal=!1,this.editingService=!1,window.showToast&&window.showToast("تم حفظ بيانات الخدمة بنجاح","success")):window.showToast&&window.showToast(o.data.message||"حدث خطأ","error")}catch(o){window.showToast&&window.showToast(o.response?.data?.message||"حدث خطأ أثناء الحفظ","error")}finally{this.savingService=!1}},async loadCompounds(){this.loadingCompounds=!0;try{const o=await m.get("/api/compounds");o.data.success&&(this.compounds=o.data.compounds)}catch(o){console.error(o)}finally{this.loadingCompounds=!1}},async loadMarkets(){this.loadingMarkets=!0;try{const o=await m.get("/api/admin/markets");o.data.success&&(this.markets=o.data.markets)}catch(o){console.error(o)}finally{this.loadingMarkets=!1}},openMarketDetails(o){this.selectedMarket=o,this.editingMarket=!1,this.showMarketModal=!0},openAddMarket(){this.selectedMarket=null,this.marketForm={name:"",description:"",phone:"",logo:"",is_active:!0},this.editingMarket=!0,this.showMarketModal=!0},startEditMarket(){this.marketForm={name:this.selectedMarket.name||"",description:this.selectedMarket.description||"",phone:this.selectedMarket.phone||"",logo:this.selectedMarket.logo||"",is_active:this.selectedMarket.is_active},this.editingMarket=!0},async saveMarket(){this.savingMarket=!0;try{let o;this.selectedMarket?.id?(o=await m.put(`/api/admin/markets/${this.selectedMarket.id}`,this.marketForm),o.data.success&&(Object.assign(this.selectedMarket,o.data.market),this.editingMarket=!1,window.showToast&&window.showToast("تم حفظ بيانات الماركت بنجاح","success"))):(o=await m.post("/api/markets",this.marketForm),o.data.success&&(this.markets.push(o.data.market),this.editingMarket=!1,this.showMarketModal=!1,window.showToast&&window.showToast("تم إضافة الماركت بنجاح","success"))),o.data.success||window.showToast&&window.showToast(o.data.message||"حدث خطأ","error")}catch(o){window.showToast&&window.showToast(o.response?.data?.message||"حدث خطأ أثناء الحفظ","error")}finally{this.savingMarket=!1}},async deleteMarket(o){if(confirm("هل أنت متأكد من حذف هذا الماركت؟ لا يمكن التراجع عن هذا الإجراء."))try{(await m.delete(`/api/admin/markets/${o.id}`)).data.success&&(this.markets=this.markets.filter(x=>x.id!==o.id),window.showToast&&window.showToast("تم حذف الماركت بنجاح","success"))}catch{window.showToast&&window.showToast("حدث خطأ أثناء الحذف","error")}},openCompoundDetails(o){this.selectedCompound=o,this.editingCompound=!1,this.showCompoundModal=!0},openAddCompound(){this.selectedCompound=null,this.compoundForm={name:"",address:"",location_url:""},this.editingCompound=!0,this.showCompoundModal=!0},startEditCompound(){this.compoundForm={name:this.selectedCompound.name||"",address:this.selectedCompound.address||"",location_url:this.selectedCompound.location_url||""},this.editingCompound=!0},async saveCompound(){this.savingCompound=!0;try{let o;this.selectedCompound?.id?(o=await m.put(`/api/admin/compounds/${this.selectedCompound.id}`,this.compoundForm),o.data.success&&(Object.assign(this.selectedCompound,this.compoundForm),this.editingCompound=!1,window.showToast&&window.showToast("تم حفظ بيانات الكمبوند بنجاح","success"))):(o=await m.post("/api/compounds",this.compoundForm),o.data.success&&(this.compounds.push(o.data.compound),this.editingCompound=!1,this.showCompoundModal=!1,window.showToast&&window.showToast("تم إضافة الكمبوند بنجاح","success"))),o.data.success||window.showToast&&window.showToast(o.data.message||"حدث خطأ","error")}catch(o){window.showToast&&window.showToast(o.response?.data?.message||"حدث خطأ أثناء الحفظ","error")}finally{this.savingCompound=!1}},async toggleCompoundStatus(o){try{(await m.post(`/api/admin/compounds/${o.id}/toggle-status`)).data.success&&(o.is_active=!o.is_active,window.showToast&&window.showToast(`تم ${o.is_active?"تفعيل":"إيقاف"} الكمبوند`,"success"))}catch{window.showToast&&window.showToast("حدث خطأ","error")}}}},A={class:"bg-background-light dark:bg-background-dark font-display min-h-screen flex flex-col antialiased selection:bg-primary/30 selection:text-primary",dir:"rtl"},L={class:"sticky top-0 z-50 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-sm border-b border-slate-200 dark:border-slate-800"},Q={class:"flex items-center justify-between px-4 py-3 max-w-md mx-auto"},O={class:"flex items-center gap-3"},N={class:"flex-1 pb-24 overflow-x-hidden max-w-md mx-auto w-full"},B={class:"px-4 py-4"},H={class:"grid grid-cols-2 gap-3"},G={class:"flex justify-between items-start"},K={key:0,class:"relative flex h-3 w-3"},I={class:"text-text-primary-light dark:text-text-primary-dark text-2xl font-bold mt-0.5"},J={class:"flex justify-between items-start"},W={key:0,class:"relative flex h-3 w-3"},X={class:"text-text-primary-light dark:text-text-primary-dark text-2xl font-bold mt-0.5"},Y={class:"px-4 py-2"},Z={class:"flex w-full items-center justify-between gap-2 overflow-x-auto no-scrollbar py-2"},$={class:"px-4 py-3"},ee={class:"relative flex items-center w-full h-12 rounded-xl focus-within:ring-2 focus-within:ring-primary/20 transition-shadow bg-white dark:bg-surface-dark shadow-sm border border-slate-200 dark:border-slate-700"},se=["placeholder"],te={key:0,class:"px-4 py-2"},le={class:"flex items-center justify-between mb-3"},oe={class:"text-xs text-slate-400"},re={class:"flex gap-2 mb-4 overflow-x-auto no-scrollbar pb-1"},ie=["onClick"],ne={class:"flex flex-col gap-3"},de={key:0,class:"text-center py-6 text-slate-400"},ae={key:1,class:"text-center py-6 text-slate-400"},ue=["onClick"],ce={class:"flex items-center gap-3"},me={class:"relative"},pe={class:"text-text-primary-light dark:text-text-primary-dark text-sm font-semibold"},be={class:"text-text-secondary-light dark:text-text-secondary-dark text-xs"},xe={key:1,class:"px-4 py-2"},ge={class:"flex items-center justify-between mb-3"},fe={class:"text-xs text-slate-400"},he={class:"flex gap-2 mb-4 overflow-x-auto no-scrollbar pb-1"},ve=["onClick"],we={class:"flex flex-col gap-3"},ke={key:0,class:"text-center py-6 text-slate-400"},ye={key:1,class:"text-center py-6 text-slate-400"},_e=["onClick"],Ce={class:"flex items-center justify-between mb-2"},Me={class:"flex items-center gap-3"},Ue={class:"p-2 rounded-lg bg-blue-50 dark:bg-blue-900/20 text-primary"},Se={class:"material-symbols-outlined"},Fe={class:"text-text-primary-light dark:text-text-primary-dark text-sm font-semibold"},qe={class:"text-text-secondary-light dark:text-text-secondary-dark text-xs"},Te={class:"flex items-center justify-between"},Re={key:0,class:"mt-2 flex items-center justify-center gap-1 text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-3 py-2 rounded-xl w-full"},je={key:2,class:"px-4 py-2"},Pe={class:"flex items-center justify-between mb-3"},De={class:"flex flex-col gap-3"},Ve=["onClick"],Ee={class:"flex items-center gap-3"},ze={class:"text-text-primary-light dark:text-text-primary-dark text-sm font-semibold"},Ae={class:"text-text-secondary-light dark:text-text-secondary-dark text-xs"},Le={key:3,class:"px-4 py-2"},Qe={class:"flex items-center justify-between mb-3"},Oe={class:"flex flex-col gap-3"},Ne={key:0,class:"text-center py-6 text-slate-400"},Be={key:1,class:"text-center py-6 text-slate-400"},He=["onClick"],Ge={class:"flex items-center gap-3"},Ke={class:"text-text-primary-light dark:text-text-primary-dark text-sm font-semibold"},Ie={class:"text-text-secondary-light dark:text-text-secondary-dark text-xs"},Je={key:4,class:"px-4 py-2"},We={class:"flex items-center justify-between mb-3"},Xe={class:"flex flex-col gap-3"},Ye={key:0,class:"text-center py-6 text-slate-400"},Ze={key:1,class:"text-center py-6 text-slate-400"},$e=["onClick"],es={class:"flex items-center gap-3"},ss={class:"text-text-primary-light dark:text-text-primary-dark text-sm font-semibold"},ts={class:"text-text-secondary-light dark:text-text-secondary-dark text-xs"},ls={class:"fixed bottom-0 left-0 right-0 bg-white dark:bg-surface-dark border-t border-slate-200 dark:border-slate-800 px-4 pb-6 pt-3 z-50"},os={class:"flex justify-around items-center max-w-md mx-auto"},rs={key:0,class:"space-y-4"},is={class:"flex items-center gap-4"},ns={class:"font-bold text-lg"},ds={class:"text-slate-500 text-sm"},as={class:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 space-y-3"},us={class:"flex justify-between items-center"},cs=["href"],ms={key:0,class:"flex justify-between items-center"},ps={class:"flex items-center gap-2"},bs={class:"font-semibold"},xs=["href"],gs={key:1,class:"flex justify-between items-center"},fs={class:"font-semibold"},hs={key:2,class:"flex justify-between items-center"},vs={class:"font-semibold"},ws={key:3,class:"flex justify-between items-center"},ks={class:"font-semibold"},ys={class:"flex justify-between items-center"},_s={class:"flex justify-between items-center"},Cs={class:"font-semibold"},Ms={class:"space-y-2"},Us={class:"flex gap-2"},Ss={key:1,class:"space-y-4"},Fs={key:0},qs=["value"],Ts=["value"],Rs={class:"grid grid-cols-2 gap-3"},js={class:"flex gap-2"},Ps=["disabled"],Ds={key:0,class:"space-y-4"},Vs={class:"flex items-center gap-3"},Es={class:"p-3 rounded-xl bg-blue-50 text-primary"},zs={class:"material-symbols-outlined text-2xl"},As={class:"font-bold text-lg"},Ls={class:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 space-y-3"},Qs={class:"flex justify-between items-center"},Os={class:"font-semibold"},Ns={class:"flex justify-between items-center"},Bs=["href"],Hs={class:"flex justify-between items-center"},Gs={class:"font-semibold"},Ks={key:0,class:"flex justify-between items-center bg-blue-50 dark:bg-blue-900/20 p-2 rounded-lg -mx-2"},Is={class:"font-bold text-blue-700 dark:text-blue-300"},Js={key:1,class:"flex justify-between items-center"},Ws={class:"font-semibold"},Xs={key:2,class:"flex justify-between items-center"},Ys={class:"font-bold text-green-600"},Zs={key:0,class:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4"},$s={class:"text-slate-800 dark:text-white"},et={key:0,class:"space-y-4"},st={class:"flex items-center gap-4 justify-center"},tt={class:"p-4 rounded-2xl bg-orange-50 text-orange-500"},lt={class:"material-symbols-outlined text-4xl"},ot={class:"text-center"},rt={class:"font-bold text-xl"},it={class:"text-slate-500"},nt={class:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 space-y-3"},dt={class:"flex justify-between items-center"},at={class:"flex gap-2"},ut={key:1,class:"space-y-4"},ct={class:"mt-2 flex items-center gap-2 text-slate-500 text-sm"},mt={class:"material-symbols-outlined text-2xl text-orange-500"},pt={class:"flex items-center gap-2 mb-2"},bt={class:"flex flex-col gap-2"},xt=["onClick"],gt={class:"flex gap-2"},ft=["disabled"],ht={key:0,class:"space-y-4"},vt={class:"text-center"},wt={class:"font-bold text-xl"},kt={class:"text-slate-500"},yt={class:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 space-y-3"},_t={class:"flex justify-between items-center"},Ct={class:"font-bold"},Mt={class:"flex justify-between items-center"},Ut={key:0,class:"flex justify-between items-center"},St=["href"],Ft={class:"flex gap-2"},qt={key:1,class:"space-y-4"},Tt={class:"flex gap-2"},Rt=["disabled"],jt={key:0,class:"space-y-4"},Pt={class:"flex items-center gap-4 justify-center"},Dt={class:"text-center"},Vt={class:"font-bold text-xl"},Et={class:"text-slate-500"},zt={class:"bg-slate-50 dark:bg-slate-800 rounded-xl p-4 space-y-3"},At={key:0,class:"flex justify-between items-center"},Lt=["href"],Qt={class:"flex justify-between items-center"},Ot={class:"font-bold"},Nt={class:"flex justify-between items-center"},Bt={class:"flex gap-2"},Ht={key:1,class:"space-y-4"},Gt={class:"flex items-center gap-2"},Kt={class:"flex gap-2"},It=["disabled"],Jt={key:0,class:"space-y-4"},Wt={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-xl flex gap-3 text-blue-800 dark:text-blue-200"},Xt={class:"text-sm"},Yt={class:"font-semibold mb-1"},Zt={class:"flex gap-2 pt-2"},$t=["disabled"],el={key:0,class:"material-symbols-outlined animate-spin text-[18px]"};function sl(o,e,x,_,t,d){const S=C("Head"),F=C("Toast"),w=C("Modal");return n(),i(b,null,[h(S,{title:"لوحة التحكم - المسؤول"}),h(F),s("div",A,[s("header",L,[s("div",Q,[s("div",O,[s("div",{class:"bg-center bg-no-repeat bg-cover rounded-full size-9 border border-slate-200 dark:border-slate-700 shadow-sm",style:k(`background-image: url('${d.user.photo||"https://ui-avatars.com/api/?name=Admin"}');`)},null,4),e[62]||(e[62]=s("h1",{class:"text-text-primary-light dark:text-text-primary-dark text-lg font-bold leading-tight tracking-tight"},"لوحة المسؤول",-1))]),e[63]||(e[63]=s("a",{href:"/logout",class:"flex items-center justify-center size-10 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors text-red-500"},[s("span",{class:"material-symbols-outlined"},"logout")],-1))])]),s("main",N,[e[99]||(e[99]=s("section",{class:"px-4 pt-6 pb-2"},[s("h2",{class:"text-text-primary-light dark:text-text-primary-dark text-2xl font-bold leading-tight"},"صباح الخير، أدمن."),s("p",{class:"text-text-secondary-light dark:text-text-secondary-dark text-sm mt-1"},"هذا ما يحدث اليوم في مجتمعك.")],-1)),s("section",B,[s("div",H,[s("div",{onClick:e[0]||(e[0]=l=>{t.activeSection="users",t.userFilter="inactive"}),class:"relative flex flex-col justify-between gap-3 rounded-xl p-4 bg-white dark:bg-surface-dark shadow-sm border-l-4 border-l-rose-500 border-y border-r border-slate-100 dark:border-slate-800 cursor-pointer hover:shadow-md transition-shadow active:scale-[0.98]"},[s("div",G,[e[65]||(e[65]=s("div",{class:"p-2 bg-rose-50 dark:bg-rose-900/20 rounded-lg text-rose-500"},[s("span",{class:"material-symbols-outlined text-xl"},"person_off")],-1)),t.stats.pending_users>0?(n(),i("span",K,[...e[64]||(e[64]=[s("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-rose-400 opacity-75"},null,-1),s("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-rose-500"},null,-1)])])):a("",!0)]),s("div",null,[e[66]||(e[66]=s("p",{class:"text-text-secondary-light dark:text-text-secondary-dark text-xs font-medium"},"مستخدمين غير مفعلين",-1)),s("p",I,r(t.stats.pending_users||0),1)])]),s("div",{onClick:e[1]||(e[1]=l=>{t.activeSection="requests",t.requestFilter="pending"}),class:"relative flex flex-col justify-between gap-3 rounded-xl p-4 bg-white dark:bg-surface-dark shadow-sm border-l-4 border-l-amber-500 border-y border-r border-slate-100 dark:border-slate-800 cursor-pointer hover:shadow-md transition-shadow active:scale-[0.98]"},[s("div",J,[e[68]||(e[68]=s("div",{class:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded-lg text-amber-500"},[s("span",{class:"material-symbols-outlined text-xl"},"hourglass_empty")],-1)),t.stats.pending_requests>0?(n(),i("span",W,[...e[67]||(e[67]=[s("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"},null,-1),s("span",{class:"relative inline-flex rounded-full h-3 w-3 bg-amber-500"},null,-1)])])):a("",!0)]),s("div",null,[e[69]||(e[69]=s("p",{class:"text-text-secondary-light dark:text-text-secondary-dark text-xs font-medium"},"طلبات قيد الانتظار",-1)),s("p",X,r(t.stats.pending_requests||0),1)])])])]),s("section",Y,[s("div",Z,[s("button",{onClick:e[2]||(e[2]=l=>t.activeSection="users"),class:u(["flex flex-col items-center justify-center min-w-[80px] p-3 rounded-2xl transition-all duration-200",t.activeSection==="users"?"bg-primary text-white shadow-lg shadow-primary/30 scale-105":"bg-white dark:bg-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"])},[...e[70]||(e[70]=[s("span",{class:"material-symbols-outlined text-2xl mb-1"},"group",-1),s("span",{class:"text-xs font-bold"},"المستخدمين",-1)])],2),s("button",{onClick:e[3]||(e[3]=l=>t.activeSection="requests"),class:u(["flex flex-col items-center justify-center min-w-[80px] p-3 rounded-2xl transition-all duration-200",t.activeSection==="requests"?"bg-primary text-white shadow-lg shadow-primary/30 scale-105":"bg-white dark:bg-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"])},[...e[71]||(e[71]=[s("span",{class:"material-symbols-outlined text-2xl mb-1"},"assignment",-1),s("span",{class:"text-xs font-bold"},"الطلبات",-1)])],2),s("button",{onClick:e[4]||(e[4]=l=>t.activeSection="services"),class:u(["flex flex-col items-center justify-center min-w-[80px] p-3 rounded-2xl transition-all duration-200",t.activeSection==="services"?"bg-primary text-white shadow-lg shadow-primary/30 scale-105":"bg-white dark:bg-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"])},[...e[72]||(e[72]=[s("span",{class:"material-symbols-outlined text-2xl mb-1"},"design_services",-1),s("span",{class:"text-xs font-bold"},"الخدمات",-1)])],2),s("button",{onClick:e[5]||(e[5]=l=>t.activeSection="compounds"),class:u(["flex flex-col items-center justify-center min-w-[80px] p-3 rounded-2xl transition-all duration-200",t.activeSection==="compounds"?"bg-primary text-white shadow-lg shadow-primary/30 scale-105":"bg-white dark:bg-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"])},[...e[73]||(e[73]=[s("span",{class:"material-symbols-outlined text-2xl mb-1"},"apartment",-1),s("span",{class:"text-xs font-bold"},"الكمبوندات",-1)])],2),s("button",{onClick:e[6]||(e[6]=l=>t.activeSection="markets"),class:u(["flex flex-col items-center justify-center min-w-[80px] p-3 rounded-2xl transition-all duration-200",t.activeSection==="markets"?"bg-primary text-white shadow-lg shadow-primary/30 scale-105":"bg-white dark:bg-slate-800 text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-700"])},[...e[74]||(e[74]=[s("span",{class:"material-symbols-outlined text-2xl mb-1"},"storefront",-1),s("span",{class:"text-xs font-bold"},"المتاجر",-1)])],2)])]),s("section",$,[s("div",ee,[e[75]||(e[75]=s("div",{class:"grid place-items-center h-full w-12 text-slate-400"},[s("span",{class:"material-symbols-outlined"},"search")],-1)),c(s("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>t.searchQuery=l),class:"peer h-full w-full outline-none text-sm text-text-primary-light dark:text-text-primary-dark pl-2 bg-transparent placeholder-slate-400",placeholder:t.activeSection==="users"?"بحث عن مستخدمين...":t.activeSection==="requests"?"بحث عن طلبات...":t.activeSection==="markets"?"بحث عن متاجر...":"بحث عن خدمات/كمبوندات...",type:"text"},null,8,se),[[p,t.searchQuery]])])]),t.activeSection==="users"?(n(),i("section",te,[s("div",le,[e[76]||(e[76]=s("h3",{class:"text-text-primary-light dark:text-text-primary-dark text-lg font-semibold"},"قائمة المستخدمين",-1)),s("span",oe,r(t.users.length)+" مستخدم",1)]),s("div",re,[(n(!0),i(b,null,f(t.userFilters,l=>(n(),i("button",{key:l.id,onClick:g=>t.userFilter=l.id,class:u(["shrink-0 h-8 px-4 rounded-full text-xs font-bold shadow-sm transition-colors",t.userFilter===l.id?"bg-primary text-white":"bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800"])},r(l.label),11,ie))),128))]),s("div",ne,[t.loading?(n(),i("div",de,[...e[77]||(e[77]=[s("span",{class:"material-symbols-outlined text-3xl animate-spin"},"progress_activity",-1)])])):t.users.length===0?(n(),i("div",ae,[...e[78]||(e[78]=[s("span",{class:"material-symbols-outlined text-4xl"},"person_off",-1),s("p",{class:"mt-2 text-sm"},"لا يوجد مستخدمين",-1)])])):a("",!0),(n(!0),i(b,null,f(t.users,l=>(n(),i("div",{key:l.id,onClick:g=>d.openUserDetails(l),class:"flex items-center justify-between p-3 bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 active:scale-[0.98] transition-all"},[s("div",ce,[s("div",me,[s("div",{class:"w-10 h-10 rounded-full bg-cover bg-center",style:k(`background-image: url('${l.photo||"https://ui-avatars.com/api/?name="+l.name}');`)},null,4),s("div",{class:u(["absolute bottom-0 right-0 w-3 h-3 border-2 border-white dark:border-surface-dark rounded-full",l.is_active?"bg-green-500":"bg-slate-300"])},null,2)]),s("div",null,[s("p",pe,r(l.name),1),s("p",be,r(l.role==="resident"?"ساكن":l.role==="provider"?"مقدم خدمة":"مسؤول")+" • "+r(l.phone),1)])]),e[79]||(e[79]=s("span",{class:"material-symbols-outlined text-slate-400"},"chevron_left",-1))],8,ue))),128)),t.nextUsersUrl?(n(),i("button",{key:2,onClick:e[8]||(e[8]=(...l)=>d.loadMoreUsers&&d.loadMoreUsers(...l)),class:"w-full py-3 mt-2 text-primary font-bold text-sm bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/50"},r(o.loadingMoreUsers?"جاري التحميل...":"عرض المزيد"),1)):a("",!0)])])):a("",!0),t.activeSection==="requests"?(n(),i("section",xe,[s("div",ge,[e[80]||(e[80]=s("h3",{class:"text-text-primary-light dark:text-text-primary-dark text-lg font-semibold"},"الطلبات",-1)),s("span",fe,r(d.filteredRequests.length)+" طلب",1)]),s("div",he,[(n(!0),i(b,null,f(t.requestFilters,l=>(n(),i("button",{key:l.id,onClick:g=>t.requestFilter=l.id,class:u(["shrink-0 h-8 px-4 rounded-full text-xs font-bold shadow-sm transition-colors",t.requestFilter===l.id?"bg-primary text-white":"bg-white dark:bg-surface-dark border border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800"])},r(l.label),11,ve))),128))]),s("div",we,[t.loadingRequests?(n(),i("div",ke,[...e[81]||(e[81]=[s("span",{class:"material-symbols-outlined text-3xl animate-spin"},"progress_activity",-1)])])):d.filteredRequests.length===0?(n(),i("div",ye,[...e[82]||(e[82]=[s("span",{class:"material-symbols-outlined text-4xl"},"inbox",-1),s("p",{class:"mt-2 text-sm"},"لا توجد طلبات",-1)])])):a("",!0),(n(!0),i(b,null,f(d.filteredRequests,l=>(n(),i("div",{key:l.id,onClick:g=>d.openRequestDetails(l),class:"flex flex-col bg-white dark:bg-surface-dark p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 active:scale-[0.98] transition-all"},[s("div",Ce,[s("div",Me,[s("div",Ue,[s("span",Se,r(l.category?.icon||"help"),1)]),s("div",null,[s("p",Fe,r(l.category?.name),1),s("p",qe,r(l.resident?.name)+" • "+r(d.formatDate(l.created_at)),1)])]),e[83]||(e[83]=s("span",{class:"material-symbols-outlined text-slate-400"},"chevron_left",-1))]),s("div",Te,[s("span",{class:u(["px-2 py-1 rounded-full text-[10px] font-bold",{"bg-orange-100 dark:bg-orange-900/40 text-orange-600 dark:text-orange-300":l.status==="pending","bg-blue-100 dark:bg-blue-900/40 text-blue-600 dark:text-blue-300":l.status==="accepted_offer","bg-purple-100 dark:bg-purple-900/40 text-purple-600 dark:text-purple-300":l.status==="in_progress","bg-green-100 dark:bg-green-900/40 text-green-600 dark:text-green-300":l.status==="completed"}])},r(l.status==="pending"?"انتظار":l.status==="in_progress"?"جاري":l.status==="completed"?"مكتمل":"تم قبول عرض"),3)]),l.delivery_method?(n(),i("div",Re,[e[84]||(e[84]=s("span",{class:"material-symbols-outlined text-[16px]"},"directions_car",-1)),s("span",null,r(l.delivery_method),1)])):a("",!0)],8,_e))),128)),t.nextRequestsUrl?(n(),i("button",{key:2,onClick:e[9]||(e[9]=(...l)=>d.loadMoreRequests&&d.loadMoreRequests(...l)),class:"w-full py-3 mt-2 text-primary font-bold text-sm bg-white dark:bg-surface-dark border border-slate-100 dark:border-slate-800 rounded-xl hover:bg-slate-50 dark:hover:bg-slate-700/50"},r(t.loadingMoreRequests?"جاري التحميل...":"عرض المزيد"),1)):a("",!0)])])):a("",!0),t.activeSection==="services"?(n(),i("section",je,[s("div",Pe,[e[86]||(e[86]=s("h3",{class:"text-text-primary-light dark:text-text-primary-dark text-lg font-semibold"},"إدارة الخدمات",-1)),s("button",{onClick:e[10]||(e[10]=(...l)=>d.openAddService&&d.openAddService(...l)),class:"text-primary p-1"},[...e[85]||(e[85]=[s("span",{class:"material-symbols-outlined"},"add",-1)])])]),s("div",De,[(n(!0),i(b,null,f(t.services,(l,g)=>(n(),i("div",{key:l.id,onClick:q=>d.openServiceDetails(l),class:u(["flex items-center justify-between p-4 bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 active:scale-[0.98] transition-all",!l.is_active&&"opacity-75"])},[s("div",Ee,[s("div",{class:u(["p-2.5 rounded-lg",d.getServiceColor(g)]),style:k(d.getServiceStyle(g))},[s("span",{class:u(["material-symbols-outlined",d.getServiceTextColor(g)])},r(l.icon),3)],6),s("div",null,[s("p",ze,r(l.name),1),s("p",Ae,r(l.is_active?"نشط":"متوقف مؤقتاً"),1)])]),e[87]||(e[87]=s("span",{class:"material-symbols-outlined text-slate-400"},"chevron_left",-1))],10,Ve))),128))])])):a("",!0),t.activeSection==="compounds"?(n(),i("section",Le,[s("div",Qe,[e[89]||(e[89]=s("h3",{class:"text-text-primary-light dark:text-text-primary-dark text-lg font-semibold"},"إدارة الكمبوندات",-1)),s("button",{onClick:e[11]||(e[11]=(...l)=>d.openAddCompound&&d.openAddCompound(...l)),class:"text-primary p-1"},[...e[88]||(e[88]=[s("span",{class:"material-symbols-outlined"},"add",-1)])])]),s("div",Oe,[t.loadingCompounds?(n(),i("div",Ne,[...e[90]||(e[90]=[s("span",{class:"material-symbols-outlined text-3xl animate-spin"},"progress_activity",-1)])])):t.compounds.length===0?(n(),i("div",Be,[...e[91]||(e[91]=[s("span",{class:"material-symbols-outlined text-4xl"},"apartment",-1),s("p",{class:"mt-2 text-sm"},"لا توجد كمبوندات",-1)])])):a("",!0),(n(!0),i(b,null,f(t.compounds,l=>(n(),i("div",{key:l.id,onClick:g=>d.openCompoundDetails(l),class:u(["flex items-center justify-between p-4 bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 active:scale-[0.98] transition-all",!l.is_active&&"opacity-75"])},[s("div",Ge,[e[92]||(e[92]=s("div",{class:"p-2.5 rounded-lg bg-green-50 dark:bg-green-900/20 text-green-600"},[s("span",{class:"material-symbols-outlined"},"apartment")],-1)),s("div",null,[s("p",Ke,r(l.name),1),s("p",Ie,r(l.residents_count||0)+" ساكن • "+r(l.is_active?"نشط":"متوقف"),1)])]),e[93]||(e[93]=s("span",{class:"material-symbols-outlined text-slate-400"},"chevron_left",-1))],10,He))),128))])])):a("",!0),t.activeSection==="markets"?(n(),i("section",Je,[s("div",We,[e[95]||(e[95]=s("h3",{class:"text-text-primary-light dark:text-text-primary-dark text-lg font-semibold"},"إدارة المتاجر",-1)),s("button",{onClick:e[12]||(e[12]=(...l)=>d.openAddMarket&&d.openAddMarket(...l)),class:"text-primary p-1"},[...e[94]||(e[94]=[s("span",{class:"material-symbols-outlined"},"add",-1)])])]),s("div",Xe,[t.loadingMarkets?(n(),i("div",Ye,[...e[96]||(e[96]=[s("span",{class:"material-symbols-outlined text-3xl animate-spin"},"progress_activity",-1)])])):t.markets.length===0?(n(),i("div",Ze,[...e[97]||(e[97]=[s("span",{class:"material-symbols-outlined text-4xl"},"storefront",-1),s("p",{class:"mt-2 text-sm"},"لا توجد متاجر",-1)])])):a("",!0),(n(!0),i(b,null,f(t.markets,l=>(n(),i("div",{key:l.id,onClick:g=>d.openMarketDetails(l),class:u(["flex items-center justify-between p-4 bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-100 dark:border-slate-800 cursor-pointer hover:bg-slate-50 dark:hover:bg-slate-700/50 active:scale-[0.98] transition-all",!l.is_active&&"opacity-75"])},[s("div",es,[s("div",{class:"size-12 rounded-lg bg-cover bg-center border border-slate-200 dark:border-slate-700",style:k(`background-image: url('${l.logo||"https://ui-avatars.com/api/?name="+l.name}');`)},null,4),s("div",null,[s("p",ss,r(l.name),1),s("p",ts,r(l.users_count||0)+" موظف • "+r(l.is_active?"نشط":"متوقف"),1)])]),e[98]||(e[98]=s("span",{class:"material-symbols-outlined text-slate-400"},"chevron_left",-1))],10,$e))),128))])])):a("",!0)]),s("nav",ls,[s("ul",os,[s("li",null,[s("a",{class:u(["flex flex-col items-center gap-1",t.activeSection==="users"||t.activeSection==="requests"||t.activeSection==="services"?"text-primary":"text-slate-400"]),href:"/dashboard"},[...e[100]||(e[100]=[s("span",{class:"material-symbols-outlined text-[26px]"},"dashboard",-1),s("span",{class:"text-[10px] font-medium"},"الرئيسية",-1)])],2)]),e[101]||(e[101]=s("li",null,[s("a",{class:"flex flex-col items-center gap-1 text-slate-400 hover:text-slate-600 dark:hover:text-slate-200 transition-colors",href:"/settings"},[s("span",{class:"material-symbols-outlined text-[26px]"},"settings"),s("span",{class:"text-[10px] font-medium"},"الإعدادات")])],-1))])]),h(w,{show:t.showUserModal,title:t.editingUser?"تعديل المستخدم":t.selectedUser?.name,onClose:e[26]||(e[26]=l=>{t.showUserModal=!1,t.editingUser=!1})},{default:y(()=>[t.selectedUser?(n(),i("div",rs,[t.editingUser?(n(),i("div",Ss,[s("div",null,[e[112]||(e[112]=s("label",{class:"block text-sm font-medium mb-1"},"الاسم",-1)),c(s("input",{"onUpdate:modelValue":e[16]||(e[16]=l=>t.userForm.name=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.userForm.name]])]),s("div",null,[e[113]||(e[113]=s("label",{class:"block text-sm font-medium mb-1"},"رقم الهاتف",-1)),c(s("input",{"onUpdate:modelValue":e[17]||(e[17]=l=>t.userForm.phone=l),type:"tel",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.userForm.phone]])]),s("div",null,[e[115]||(e[115]=s("label",{class:"block text-sm font-medium mb-1"},"نوع المستخدم",-1)),c(s("select",{"onUpdate:modelValue":e[18]||(e[18]=l=>t.userForm.role=l),class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},[...e[114]||(e[114]=[s("option",{value:"resident"},"ساكن",-1),s("option",{value:"provider"},"مقدم خدمة",-1),s("option",{value:"admin"},"مسؤول",-1)])],512),[[M,t.userForm.role]])]),t.userForm.role==="provider"?(n(),i("div",Fs,[e[117]||(e[117]=s("label",{class:"block text-sm font-medium mb-1"},"تعيين لماركت (اختياري)",-1)),c(s("select",{"onUpdate:modelValue":e[19]||(e[19]=l=>t.userForm.market_id=l),class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},[e[116]||(e[116]=s("option",{value:null},"غير تابع لماركت",-1)),(n(!0),i(b,null,f(t.markets,l=>(n(),i("option",{key:l.id,value:l.id},r(l.name),9,qs))),128))],512),[[M,t.userForm.market_id]]),e[118]||(e[118]=s("p",{class:"text-xs text-slate-400 mt-1"},"تحديد الماركت سيعطي هذا المستخدم صلاحيات إدارة طلبات الماركت المحدد.",-1))])):a("",!0),t.userForm.role==="resident"?(n(),i(b,{key:1},[s("div",null,[e[120]||(e[120]=s("label",{class:"block text-sm font-medium mb-1"},"الكمبوند",-1)),c(s("select",{"onUpdate:modelValue":e[20]||(e[20]=l=>t.userForm.compound_id=l),class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},[e[119]||(e[119]=s("option",{value:""},"اختر الكمبوند",-1)),(n(!0),i(b,null,f(t.compounds,l=>(n(),i("option",{key:l.id,value:l.id},r(l.name),9,Ts))),128))],512),[[M,t.userForm.compound_id]])]),s("div",Rs,[s("div",null,[e[121]||(e[121]=s("label",{class:"block text-sm font-medium mb-1"},"رقم المبنى",-1)),c(s("input",{"onUpdate:modelValue":e[21]||(e[21]=l=>t.userForm.block_no=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.userForm.block_no]])]),s("div",null,[e[122]||(e[122]=s("label",{class:"block text-sm font-medium mb-1"},"الدور",-1)),c(s("input",{"onUpdate:modelValue":e[22]||(e[22]=l=>t.userForm.floor=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.userForm.floor]])])]),s("div",null,[e[123]||(e[123]=s("label",{class:"block text-sm font-medium mb-1"},"رقم الشقة",-1)),c(s("input",{"onUpdate:modelValue":e[23]||(e[23]=l=>t.userForm.apt_no=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.userForm.apt_no]])])],64)):a("",!0),s("div",js,[s("button",{onClick:e[24]||(e[24]=(...l)=>d.saveUser&&d.saveUser(...l)),disabled:t.savingUser,class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},r(t.savingUser?"جاري الحفظ...":"حفظ التغييرات"),9,Ps),s("button",{onClick:e[25]||(e[25]=l=>t.editingUser=!1),class:"flex-1 py-3 rounded-xl font-bold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200"},"إلغاء")])])):(n(),i(b,{key:0},[s("div",is,[s("div",{class:"w-16 h-16 rounded-full bg-cover bg-center border-2 border-slate-200",style:k(`background-image: url('${t.selectedUser.photo||"https://ui-avatars.com/api/?name="+t.selectedUser.name}');`)},null,4),s("div",null,[s("p",ns,r(t.selectedUser.name),1),s("p",ds,r(t.selectedUser.role==="resident"?"ساكن":t.selectedUser.role==="provider"?"مقدم خدمة":"مسؤول"),1)])]),s("div",as,[s("div",us,[e[102]||(e[102]=s("span",{class:"text-slate-500 text-sm"},"الهاتف",-1)),s("a",{href:`tel:${t.selectedUser.phone}`,class:"text-primary font-semibold"},r(t.selectedUser.phone),9,cs)]),t.selectedUser.role==="resident"?(n(),i(b,{key:0},[t.selectedUser.compound?(n(),i("div",ms,[e[104]||(e[104]=s("span",{class:"text-slate-500 text-sm"},"الكمبوند",-1)),s("div",ps,[s("span",bs,r(t.selectedUser.compound.name),1),t.selectedUser.compound.location_url?(n(),i("a",{key:0,href:t.selectedUser.compound.location_url,target:"_blank",class:"text-primary hover:text-primary-dark",title:"الموقع على الخريطة"},[...e[103]||(e[103]=[s("span",{class:"material-symbols-outlined text-lg"},"location_on",-1)])],8,xs)):a("",!0)])])):a("",!0),t.selectedUser.block_no?(n(),i("div",gs,[e[105]||(e[105]=s("span",{class:"text-slate-500 text-sm"},"المبنى",-1)),s("span",fs,r(t.selectedUser.block_no),1)])):a("",!0),t.selectedUser.floor?(n(),i("div",hs,[e[106]||(e[106]=s("span",{class:"text-slate-500 text-sm"},"الدور",-1)),s("span",vs,r(t.selectedUser.floor),1)])):a("",!0),t.selectedUser.apt_no?(n(),i("div",ws,[e[107]||(e[107]=s("span",{class:"text-slate-500 text-sm"},"رقم الشقة",-1)),s("span",ks,r(t.selectedUser.apt_no),1)])):a("",!0)],64)):a("",!0),s("div",ys,[e[108]||(e[108]=s("span",{class:"text-slate-500 text-sm"},"الحالة",-1)),s("span",{class:u(["font-bold",t.selectedUser.is_active?"text-green-600":"text-red-500"])},r(t.selectedUser.is_active?"مفعل":"غير مفعل"),3)]),s("div",_s,[e[109]||(e[109]=s("span",{class:"text-slate-500 text-sm"},"تاريخ التسجيل",-1)),s("span",Cs,r(d.formatDate(t.selectedUser.created_at)),1)])]),s("div",Ms,[s("div",Us,[s("button",{onClick:e[13]||(e[13]=(...l)=>d.startEditUser&&d.startEditUser(...l)),class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},[...e[110]||(e[110]=[s("span",{class:"material-symbols-outlined text-lg align-middle ml-1"},"edit",-1),v(" تعديل ",-1)])]),s("button",{onClick:e[14]||(e[14]=l=>d.toggleUserStatus(t.selectedUser)),class:u(["flex-1 py-3 rounded-xl font-bold text-white",t.selectedUser.is_active?"bg-red-500":"bg-green-500"])},r(t.selectedUser.is_active?"إيقاف":"تفعيل"),3)]),s("button",{onClick:e[15]||(e[15]=l=>d.openChangePasswordModal(t.selectedUser)),class:"w-full py-3 rounded-xl font-bold bg-amber-500 hover:bg-amber-600 text-white transition-colors"},[...e[111]||(e[111]=[s("span",{class:"material-symbols-outlined text-lg align-middle ml-1"},"lock_reset",-1),v(" تغيير كلمة المرور ",-1)])])])],64))])):a("",!0)]),_:1},8,["show","title"]),h(w,{show:t.showRequestModal,title:"تفاصيل الطلب",onClose:e[27]||(e[27]=l=>t.showRequestModal=!1)},{default:y(()=>[t.selectedRequest?(n(),i("div",Ds,[s("div",Vs,[s("div",Es,[s("span",zs,r(t.selectedRequest.category?.icon||"help"),1)]),s("div",null,[s("p",As,r(t.selectedRequest.category?.name),1),s("span",{class:u(["px-2 py-1 rounded-full text-xs font-bold",{"bg-orange-100 text-orange-600":t.selectedRequest.status==="pending","bg-blue-100 text-blue-600":t.selectedRequest.status==="accepted_offer"||t.selectedRequest.status==="in_progress","bg-green-100 text-green-600":t.selectedRequest.status==="completed"}])},r(t.selectedRequest.status==="pending"?"قيد الانتظار":t.selectedRequest.status==="in_progress"?"جاري التنفيذ":t.selectedRequest.status==="completed"?"مكتمل":"تم قبول عرض"),3)])]),s("div",Ls,[s("div",Qs,[e[124]||(e[124]=s("span",{class:"text-slate-500 text-sm"},"الساكن",-1)),s("span",Os,r(t.selectedRequest.resident?.name),1)]),s("div",Ns,[e[125]||(e[125]=s("span",{class:"text-slate-500 text-sm"},"الهاتف",-1)),s("a",{href:`tel:${t.selectedRequest.resident?.phone}`,class:"text-primary font-semibold"},r(t.selectedRequest.resident?.phone),9,Bs)]),s("div",Hs,[e[126]||(e[126]=s("span",{class:"text-slate-500 text-sm"},"تاريخ الطلب",-1)),s("span",Gs,r(d.formatDate(t.selectedRequest.created_at)),1)]),t.selectedRequest.delivery_method?(n(),i("div",Ks,[e[127]||(e[127]=s("span",{class:"text-slate-500 dark:text-slate-400 text-sm flex items-center gap-1"},[s("span",{class:"material-symbols-outlined text-base"},"directions_car"),v(" طريقة التقديم ")],-1)),s("span",Is,r(t.selectedRequest.delivery_method),1)])):a("",!0),t.selectedRequest.accepted_proposal?(n(),i("div",Js,[e[128]||(e[128]=s("span",{class:"text-slate-500 text-sm"},"مقدم الخدمة",-1)),s("span",Ws,r(t.selectedRequest.accepted_proposal.provider?.name),1)])):a("",!0),t.selectedRequest.accepted_proposal?(n(),i("div",Xs,[e[129]||(e[129]=s("span",{class:"text-slate-500 text-sm"},"السعر",-1)),s("span",Ys,r(t.selectedRequest.accepted_proposal.price)+" ج.م",1)])):a("",!0)]),t.selectedRequest.notes?(n(),i("div",Zs,[e[130]||(e[130]=s("p",{class:"text-slate-500 text-sm mb-1"},"ملاحظات",-1)),s("p",$s,r(t.selectedRequest.notes),1)])):a("",!0)])):a("",!0)]),_:1},8,["show"]),h(w,{show:t.showServiceModal,title:t.editingService?t.selectedService?"تعديل الخدمة":"إضافة خدمة جديدة":t.selectedService?.name,onClose:e[38]||(e[38]=l=>{t.showServiceModal=!1,t.editingService=!1})},{default:y(()=>[t.selectedService||t.editingService?(n(),i("div",et,[t.editingService?(n(),i("div",ut,[s("div",null,[e[133]||(e[133]=s("label",{class:"block text-sm font-medium mb-1"},"اسم الخدمة",-1)),c(s("input",{"onUpdate:modelValue":e[30]||(e[30]=l=>t.serviceForm.name=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.serviceForm.name]])]),s("div",null,[e[135]||(e[135]=s("label",{class:"block text-sm font-medium mb-1"},"الأيقونة (Material Symbol)",-1)),c(s("input",{"onUpdate:modelValue":e[31]||(e[31]=l=>t.serviceForm.icon=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",placeholder:"مثال: plumbing, electrical_services"},null,512),[[p,t.serviceForm.icon]]),s("div",ct,[s("span",mt,r(t.serviceForm.icon||"help"),1),e[134]||(e[134]=s("span",null,"معاينة الأيقونة",-1))])]),s("div",null,[e[136]||(e[136]=s("label",{class:"block text-sm font-medium mb-1"},"الوصف",-1)),c(s("textarea",{"onUpdate:modelValue":e[32]||(e[32]=l=>t.serviceForm.description=l),rows:"3",class:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 resize-none"},null,512),[[p,t.serviceForm.description]])]),s("div",null,[e[138]||(e[138]=s("label",{class:"block text-sm font-medium mb-1"},"طرق التقديم (Delivery Options)",-1)),s("div",pt,[c(s("input",{"onUpdate:modelValue":e[33]||(e[33]=l=>t.serviceForm.new_delivery_method=l),onKeydown:e[34]||(e[34]=R(U((...l)=>d.addDeliveryMethod&&d.addDeliveryMethod(...l),["prevent"]),["enter"])),type:"text",class:"flex-1 h-10 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-sm",placeholder:"اكتب واضغط Enter (مثال: زيارة منزلية)"},null,544),[[p,t.serviceForm.new_delivery_method]]),s("button",{onClick:e[35]||(e[35]=U((...l)=>d.addDeliveryMethod&&d.addDeliveryMethod(...l),["prevent"])),class:"h-10 px-4 rounded-xl bg-slate-100 dark:bg-slate-700 font-bold text-sm hover:bg-slate-200 dark:hover:bg-slate-600 transition-colors"},"إضافة")]),s("div",bt,[(n(!0),i(b,null,f(t.serviceForm.delivery_methods,(l,g)=>(n(),i("div",{key:g,class:"px-4 py-2 rounded-xl bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 text-sm font-medium flex items-center justify-between w-full"},[s("span",null,r(l),1),s("button",{onClick:q=>d.removeDeliveryMethod(g),class:"hover:text-red-500 rounded-full p-1"},[...e[137]||(e[137]=[s("span",{class:"material-symbols-outlined text-lg"},"close",-1)])],8,xt)]))),128))])]),s("div",gt,[s("button",{onClick:e[36]||(e[36]=(...l)=>d.saveService&&d.saveService(...l)),disabled:t.savingService,class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},r(t.savingService?"جاري الحفظ...":"حفظ التغييرات"),9,ft),s("button",{onClick:e[37]||(e[37]=l=>t.editingService=!1),class:"flex-1 py-3 rounded-xl font-bold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200"},"إلغاء")])])):(n(),i(b,{key:0},[s("div",st,[s("div",tt,[s("span",lt,r(t.selectedService.icon),1)])]),s("div",ot,[s("p",rt,r(t.selectedService.name),1),s("p",it,r(t.selectedService.description||"خدمة متوفرة في التطبيق"),1)]),s("div",nt,[s("div",dt,[e[131]||(e[131]=s("span",{class:"text-slate-500 text-sm"},"الحالة",-1)),s("span",{class:u(["font-bold",t.selectedService.is_active?"text-green-600":"text-red-500"])},r(t.selectedService.is_active?"نشط":"متوقف"),3)])]),s("div",at,[s("button",{onClick:e[28]||(e[28]=(...l)=>d.startEditService&&d.startEditService(...l)),class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},[...e[132]||(e[132]=[s("span",{class:"material-symbols-outlined text-lg align-middle ml-1"},"edit",-1),v(" تعديل ",-1)])]),s("button",{onClick:e[29]||(e[29]=l=>d.toggleServiceStatus(t.selectedService)),class:u(["flex-1 py-3 rounded-xl font-bold text-white",t.selectedService.is_active?"bg-red-500":"bg-green-500"])},r(t.selectedService.is_active?"إيقاف":"تفعيل"),3)])],64))])):a("",!0)]),_:1},8,["show","title"]),h(w,{show:t.showCompoundModal,title:t.editingCompound?t.selectedCompound?.id?"تعديل الكمبوند":"إضافة كمبوند جديد":t.selectedCompound?.name,onClose:e[46]||(e[46]=l=>{t.showCompoundModal=!1,t.editingCompound=!1})},{default:y(()=>[t.selectedCompound||t.editingCompound?(n(),i("div",ht,[!t.editingCompound&&t.selectedCompound?(n(),i(b,{key:0},[e[144]||(e[144]=s("div",{class:"flex items-center gap-4 justify-center"},[s("div",{class:"p-4 rounded-2xl bg-green-50 text-green-600"},[s("span",{class:"material-symbols-outlined text-4xl"},"apartment")])],-1)),s("div",vt,[s("p",wt,r(t.selectedCompound.name),1),s("p",kt,r(t.selectedCompound.address||"لا يوجد عنوان"),1)]),s("div",yt,[s("div",_t,[e[139]||(e[139]=s("span",{class:"text-slate-500 text-sm"},"عدد السكان",-1)),s("span",Ct,r(t.selectedCompound.residents_count||0),1)]),s("div",Mt,[e[140]||(e[140]=s("span",{class:"text-slate-500 text-sm"},"الحالة",-1)),s("span",{class:u(["font-bold",t.selectedCompound.is_active?"text-green-600":"text-red-500"])},r(t.selectedCompound.is_active?"نشط":"متوقف"),3)]),t.selectedCompound.location_url?(n(),i("div",Ut,[e[142]||(e[142]=s("span",{class:"text-slate-500 text-sm"},"الموقع",-1)),s("a",{href:t.selectedCompound.location_url,target:"_blank",class:"text-primary font-semibold flex items-center gap-1"},[...e[141]||(e[141]=[s("span",{class:"material-symbols-outlined text-lg"},"location_on",-1),v(" فتح في الخريطة ",-1)])],8,St)])):a("",!0)]),s("div",Ft,[s("button",{onClick:e[39]||(e[39]=(...l)=>d.startEditCompound&&d.startEditCompound(...l)),class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},[...e[143]||(e[143]=[s("span",{class:"material-symbols-outlined text-lg align-middle ml-1"},"edit",-1),v(" تعديل ",-1)])]),s("button",{onClick:e[40]||(e[40]=l=>d.toggleCompoundStatus(t.selectedCompound)),class:u(["flex-1 py-3 rounded-xl font-bold text-white",t.selectedCompound.is_active?"bg-red-500":"bg-green-500"])},r(t.selectedCompound.is_active?"إيقاف":"تفعيل"),3)])],64)):(n(),i("div",qt,[s("div",null,[e[145]||(e[145]=s("label",{class:"block text-sm font-medium mb-1"},"اسم الكمبوند",-1)),c(s("input",{"onUpdate:modelValue":e[41]||(e[41]=l=>t.compoundForm.name=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",placeholder:"مثال: مدينتي"},null,512),[[p,t.compoundForm.name]])]),s("div",null,[e[146]||(e[146]=s("label",{class:"block text-sm font-medium mb-1"},"العنوان",-1)),c(s("input",{"onUpdate:modelValue":e[42]||(e[42]=l=>t.compoundForm.address=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",placeholder:"مثال: القاهرة الجديدة"},null,512),[[p,t.compoundForm.address]])]),s("div",null,[e[147]||(e[147]=s("label",{class:"block text-sm font-medium mb-1"},"رابط Google Maps",-1)),c(s("input",{"onUpdate:modelValue":e[43]||(e[43]=l=>t.compoundForm.location_url=l),type:"url",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",placeholder:"https://maps.google.com/...",dir:"ltr"},null,512),[[p,t.compoundForm.location_url]])]),s("div",Tt,[s("button",{onClick:e[44]||(e[44]=(...l)=>d.saveCompound&&d.saveCompound(...l)),disabled:t.savingCompound,class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},r(t.savingCompound?"جاري الحفظ...":t.selectedCompound?.id?"حفظ التغييرات":"إضافة الكمبوند"),9,Rt),s("button",{onClick:e[45]||(e[45]=l=>{t.editingCompound=!1,t.showCompoundModal=!1}),class:"flex-1 py-3 rounded-xl font-bold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200"},"إلغاء")])]))])):a("",!0)]),_:1},8,["show","title"]),h(w,{show:t.showMarketModal,title:t.editingMarket?t.selectedMarket?.id?"تعديل الماركت":"إضافة ماركت جديد":t.selectedMarket?.name,onClose:e[56]||(e[56]=l=>{t.showMarketModal=!1,t.editingMarket=!1})},{default:y(()=>[t.selectedMarket||t.editingMarket?(n(),i("div",jt,[!t.editingMarket&&t.selectedMarket?(n(),i(b,{key:0},[s("div",Pt,[s("div",{class:"size-20 rounded-2xl bg-cover bg-center border border-slate-200 shadow-sm",style:k(`background-image: url('${t.selectedMarket.logo||"https://ui-avatars.com/api/?name="+t.selectedMarket.name}');`)},null,4)]),s("div",Dt,[s("p",Vt,r(t.selectedMarket.name),1),s("p",Et,r(t.selectedMarket.description||"لا يوجد وصف"),1)]),s("div",zt,[t.selectedMarket.phone?(n(),i("div",At,[e[148]||(e[148]=s("span",{class:"text-slate-500 text-sm"},"الهاتف",-1)),s("a",{href:`tel:${t.selectedMarket.phone}`,class:"font-bold text-primary"},r(t.selectedMarket.phone),9,Lt)])):a("",!0),s("div",Qt,[e[149]||(e[149]=s("span",{class:"text-slate-500 text-sm"},"عدد الموظفين",-1)),s("span",Ot,r(t.selectedMarket.users_count||0),1)]),s("div",Nt,[e[150]||(e[150]=s("span",{class:"text-slate-500 text-sm"},"الحالة",-1)),s("span",{class:u(["font-bold",t.selectedMarket.is_active?"text-green-600":"text-red-500"])},r(t.selectedMarket.is_active?"نشط":"متوقف"),3)])]),s("div",Bt,[s("button",{onClick:e[47]||(e[47]=(...l)=>d.startEditMarket&&d.startEditMarket(...l)),class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},[...e[151]||(e[151]=[s("span",{class:"material-symbols-outlined text-lg align-middle ml-1"},"edit",-1),v(" تعديل ",-1)])]),s("button",{onClick:e[48]||(e[48]=l=>d.deleteMarket(t.selectedMarket)),class:"flex-1 py-3 rounded-xl font-bold bg-red-50 text-red-600 hover:bg-red-100"}," حذف ")])],64)):(n(),i("div",Ht,[s("div",null,[e[152]||(e[152]=s("label",{class:"block text-sm font-medium mb-1"},"اسم الماركت",-1)),c(s("input",{"onUpdate:modelValue":e[49]||(e[49]=l=>t.marketForm.name=l),type:"text",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.marketForm.name]])]),s("div",null,[e[153]||(e[153]=s("label",{class:"block text-sm font-medium mb-1"},"الوصف",-1)),c(s("textarea",{"onUpdate:modelValue":e[50]||(e[50]=l=>t.marketForm.description=l),rows:"2",class:"w-full p-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 resize-none"},null,512),[[p,t.marketForm.description]])]),s("div",null,[e[154]||(e[154]=s("label",{class:"block text-sm font-medium mb-1"},"رقم الهاتف",-1)),c(s("input",{"onUpdate:modelValue":e[51]||(e[51]=l=>t.marketForm.phone=l),type:"tel",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800"},null,512),[[p,t.marketForm.phone]])]),s("div",null,[e[155]||(e[155]=s("label",{class:"block text-sm font-medium mb-1"},"رابط الشعار (صورة)",-1)),c(s("input",{"onUpdate:modelValue":e[52]||(e[52]=l=>t.marketForm.logo=l),type:"url",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800",placeholder:"https://...",dir:"ltr"},null,512),[[p,t.marketForm.logo]])]),s("div",Gt,[c(s("input",{"onUpdate:modelValue":e[53]||(e[53]=l=>t.marketForm.is_active=l),type:"checkbox",class:"size-5 rounded border-slate-300 text-primary focus:ring-primary"},null,512),[[j,t.marketForm.is_active]]),e[156]||(e[156]=s("label",{class:"text-sm font-medium"},"نشط (يظهر في التطبيق)",-1))]),s("div",Kt,[s("button",{onClick:e[54]||(e[54]=(...l)=>d.saveMarket&&d.saveMarket(...l)),disabled:t.savingMarket,class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white"},r(t.savingMarket?"جاري الحفظ...":t.selectedMarket?.id?"حفظ التغييرات":"إضافة الماركت"),9,It),s("button",{onClick:e[55]||(e[55]=l=>{t.editingMarket=!1,t.showMarketModal=!1}),class:"flex-1 py-3 rounded-xl font-bold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200"},"إلغاء")])]))])):a("",!0)]),_:1},8,["show","title"]),h(w,{show:t.showPasswordModal,title:"تغيير كلمة المرور",onClose:e[61]||(e[61]=l=>t.showPasswordModal=!1)},{default:y(()=>[t.passwordChangeUser?(n(),i("div",Jt,[s("div",Wt,[e[158]||(e[158]=s("span",{class:"material-symbols-outlined text-2xl flex-shrink-0"},"info",-1)),s("div",Xt,[s("p",Yt,"تغيير كلمة المرور لـ: "+r(t.passwordChangeUser.name),1),e[157]||(e[157]=s("p",{class:"text-xs opacity-80"},"سيتم تحديث كلمة المرور فوراً وسيحتاج المستخدم لاستخدام الكلمة الجديدة عند تسجيل الدخول.",-1))])]),s("div",null,[e[159]||(e[159]=s("label",{class:"block text-sm font-medium mb-2"},"كلمة المرور الجديدة",-1)),c(s("input",{"onUpdate:modelValue":e[57]||(e[57]=l=>t.newPassword=l),type:"password",placeholder:"أدخل كلمة المرور الجديدة",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary focus:border-transparent"},null,512),[[p,t.newPassword]])]),s("div",null,[e[160]||(e[160]=s("label",{class:"block text-sm font-medium mb-2"},"تأكيد كلمة المرور",-1)),c(s("input",{"onUpdate:modelValue":e[58]||(e[58]=l=>t.confirmPassword=l),type:"password",placeholder:"أعد إدخال كلمة المرور",class:"w-full h-12 px-4 rounded-xl border border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 focus:ring-2 focus:ring-primary focus:border-transparent"},null,512),[[p,t.confirmPassword]])]),s("div",Zt,[s("button",{onClick:e[59]||(e[59]=(...l)=>d.changeUserPassword&&d.changeUserPassword(...l)),disabled:t.changingPassword||!t.newPassword||t.newPassword!==t.confirmPassword,class:"flex-1 py-3 rounded-xl font-bold bg-primary text-white disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"},[t.changingPassword?(n(),i("span",el,"progress_activity")):a("",!0),s("span",null,r(t.changingPassword?"جاري التحديث...":"تحديث كلمة المرور"),1)],8,$t),s("button",{onClick:e[60]||(e[60]=l=>{t.showPasswordModal=!1,t.newPassword="",t.confirmPassword=""}),class:"flex-1 py-3 rounded-xl font-bold bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-200"}," إلغاء ")])])):a("",!0)]),_:1},8,["show"])])],64)}const il=E(z,[["render",sl],["__scopeId","data-v-d66ed0ee"]]);export{il as default};
