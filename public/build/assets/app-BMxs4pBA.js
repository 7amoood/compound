const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-D7vvRO84.js","assets/vendor-CjkqsXjI.js","assets/Modal-Bw58fCd6.js","assets/Modal-ACkwF3lE.css","assets/Dashboard-D-zUhCwk.css","assets/app-disGDPbo.css","assets/Login-DDClgu9a.js","assets/Dashboard-D3lVAEv1.js","assets/firebase-DGHfBh6S.js","assets/firebase-D-uHIdzp.css","assets/Dashboard-B7-LeNcu.css","assets/Dashboard-CEm1qpIg.js","assets/Dashboard-B04vcZOb.css","assets/Settings-D7XZ4bnY.js","assets/Settings-tn0RQdqM.css"])))=>i.map(i=>d[i]);
import{a as O,c as f,b as h,d as i,e as g,o as w,f as E,r as x,g as k,h as v}from"./vendor-CjkqsXjI.js";/* empty css            */const S="modulepreload",A=function(t){return"/build/"+t},b={},m=function(e,r,o){let s=Promise.resolve();if(r&&r.length>0){let y=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),d=a?.nonce||a?.getAttribute("nonce");s=y(r.map(l=>{if(l=A(l),l in b)return;b[l]=!0;const u=l.endsWith(".css"),p=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const c=document.createElement("link");if(c.rel=u?"stylesheet":S,u||(c.as="script"),c.crossOrigin="",c.href=l,d&&c.setAttribute("nonce",d),document.head.appendChild(c),u)return new Promise((_,P)=>{c.addEventListener("load",_),c.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${l}`)))})}))}function n(a){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=a,window.dispatchEvent(d),!d.defaultPrevented)throw a}return s.then(a=>{for(const d of a||[])d.status==="rejected"&&n(d.reason);return e().catch(n)})};window.axios=O;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";async function I(t,e){for(const r of Array.isArray(t)?t:[t]){const o=e[r];if(!(typeof o>"u"))return typeof o=="function"?o():o}throw new Error(`Page not found: ${t}`)}const C=(t,e)=>{const r=t.__vccOpts||t;for(const[o,s]of e)r[o]=s;return r},L={data(){return{deferredPrompt:null,showOverlay:!1,isIOS:!1}},mounted(){this.isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||(window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),this.deferredPrompt=e,this.showOverlay=!0}),this.isIOS&&(this.showOverlay=!0))},methods:{async installApp(){if(!this.deferredPrompt){this.isIOS&&window.showToast("اتبع تعليمات الإضافة في الأسفل","info");return}this.deferredPrompt.prompt();const{outcome:t}=await this.deferredPrompt.userChoice;t==="accepted"&&(console.log("User accepted the install prompt"),this.showOverlay=!1),this.deferredPrompt=null}}},D={key:0,class:"fixed inset-0 z-[100] flex items-center justify-center bg-slate-900/90 backdrop-blur-md p-6 overflow-hidden"},R={class:"relative w-full max-w-sm bg-white dark:bg-slate-800 rounded-3xl p-8 flex flex-col items-center text-center shadow-2xl animate-in fade-in zoom-in duration-300"},T={key:1,class:"mt-4 p-4 bg-slate-50 dark:bg-slate-700/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-600"};function N(t,e,r,o,s,n){return s.showOverlay?(w(),f("div",D,[i("div",R,[e[4]||(e[4]=i("div",{class:"w-24 h-24 bg-primary/10 rounded-2xl flex items-center justify-center mb-6 shadow-inner tracking-tighter"},[i("img",{src:"/icons/icon-192x192.png",class:"w-16 h-16 object-contain",alt:"App Logo"})],-1)),e[5]||(e[5]=i("h2",{class:"text-2xl font-bold text-slate-900 dark:text-white mb-2"},"ثبّت التطبيق الآن",-1)),e[6]||(e[6]=i("p",{class:"text-slate-500 dark:text-slate-400 mb-8 leading-relaxed"}," للحصول على أفضل تجربة وأسرع وصول لخدمات المجمع، يرجى إضافة التطبيق إلى شاشتك الرئيسية. ",-1)),i("button",{onClick:e[0]||(e[0]=(...a)=>n.installApp&&n.installApp(...a)),class:"w-full bg-primary text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/30 hover:bg-blue-600 active:scale-95 transition-all mb-4 flex items-center justify-center gap-2"},[...e[2]||(e[2]=[i("span",{class:"material-symbols-outlined"},"download",-1),i("span",null,"تثبيت الآن",-1)])]),s.isIOS?h("",!0):(w(),f("button",{key:0,onClick:e[1]||(e[1]=a=>s.showOverlay=!1),class:"text-slate-400 dark:text-slate-500 text-sm font-medium hover:text-slate-600 dark:hover:text-slate-400 transition-colors"}," سأقوم بذلك لاحقاً ")),s.isIOS?(w(),f("div",T,[...e[3]||(e[3]=[i("p",{class:"text-xs text-slate-600 dark:text-slate-300 flex flex-col items-center gap-2"},[i("span",null,[g("لأجهزة iOS، اضغط على زر "),i("span",{class:"material-symbols-outlined text-[18px] align-middle"},"ios_share"),g(' ثم "إضافة للشاشة الرئيسية"')])],-1)])])):h("",!0)])])):h("",!0)}const j=C(L,[["render",N]]);E({title:t=>`${t} - خدمات المجمع`,resolve:t=>I(`./Pages/${t}.vue`,Object.assign({"./Pages/Admin/Dashboard.vue":()=>m(()=>import("./Dashboard-D7vvRO84.js"),__vite__mapDeps([0,1,2,3,4,5])),"./Pages/Auth/Login.vue":()=>m(()=>import("./Login-DDClgu9a.js"),__vite__mapDeps([6,1,5])),"./Pages/Provider/Dashboard.vue":()=>m(()=>import("./Dashboard-D3lVAEv1.js"),__vite__mapDeps([7,1,2,3,8,9,10,5])),"./Pages/Resident/Dashboard.vue":()=>m(()=>import("./Dashboard-CEm1qpIg.js"),__vite__mapDeps([11,1,2,3,8,9,12,5])),"./Pages/Settings.vue":()=>m(()=>import("./Settings-D7XZ4bnY.js"),__vite__mapDeps([13,1,2,3,14,5]))})),setup({el:t,App:e,props:r,plugin:o}){const s=k({render:()=>v("div",[v(e,r),v(j)])});return s.use(o),s.mount(t),s},progress:{delay:0,color:"#137fec",includeCSS:!0,showSpinner:!1}});if("BroadcastChannel"in window){const t=new BroadcastChannel("notification_channel");t.onmessage=e=>{if(e.data&&e.data.type==="ON_NOTIFICATION_CLICK"){const r=e.data.url,o=new URL(r,window.location.origin),s=o.searchParams.get("request_id");if(s){const n=window.location.pathname;n.includes("/resident")||n.includes("/provider")||n.includes("/dashboard")?window.dispatchEvent(new CustomEvent("open-request-details",{detail:{requestId:parseInt(s)}})):x.visit(r)}else{const n=o.pathname+o.search;x.visit(n)}}}}export{C as _,m as a};
