import{E as F,l as P,m as v,c as a,o as i,h as b,d as t,n as C,t as n,b as d,w as g,e as k,F as p,s as f,p as x,g as S,q as y,u as M,v as _,a as m,z as U}from"./vendor-tvXOKrQx.js";import{T as z,M as A}from"./Modal-BBRIZ2tk.js";import{P as I}from"./PullToRefresh-CvG19Zfu.js";import{requestNotificationPermission as N}from"./firebase-BsluvjN1.js";import{_ as L}from"./app-DMxMwsBv.js";/* empty css            */const V={name:"ResidentDashboard",components:{Head:P,Link:F,Modal:A,Toast:z,PullToRefresh:I},data(){return{requests:[],categories:[],loading:!0,activeTab:new URLSearchParams(window.location.search).get("tab")||"pending",showNewRequestModal:!1,showRequestDetailsModal:!1,showRatingModal:!1,showNotificationsModal:!1,selectedRequest:null,currentRating:5,ratingComment:"",submittingRate:!1,notifications:[],loadingNotifications:!1,nextNotificationsUrl:null,loadingMoreNotifications:!1,unreadNotificationsCount:0,newRequestForm:{service_category_id:"",market_id:"",delivery_method:"",notes:""},items:[{name:"",quantity:""}],markets:[],submittingRequest:!1,tabs:[{id:"pending",label:"قيد الانتظار"},{id:"accepted_offer",label:"تم قبول عرض"},{id:"in_progress",label:"جاري التنفيذ"},{id:"completed",label:"مكتمل"},{id:"cancelled",label:"ملغي"}],currentProposals:[],loadingProposals:!1,proposalsSort:"default",showConfirmModal:!1,confirmMessage:"",confirmAction:null,processingConfirm:!1,loadingKey:null,loadingMarkAll:!1}},computed:{user(){const r=U();return r.props.auth?r.props.auth.user:{}},selectedServiceCategory(){return this.categories.find(r=>r.id===this.newRequestForm.service_category_id)},availableDeliveryMethods(){return this.selectedServiceCategory?.delivery_methods||[]},sortedProposals(){let r=[...this.currentProposals];return this.proposalsSort==="price_asc"?r.sort((e,c)=>e.price-c.price):this.proposalsSort==="rating_desc"?r.sort((e,c)=>(c.provider?.rating_average||0)-(e.provider?.rating_average||0)):r.sort((e,c)=>{const R=e.provider?.rating_average||0,o=c.provider?.rating_average||0;return o!==R?o-R:e.price-c.price}),r},isMarketCategory(){return this.selectedServiceCategory?.name.includes("ماركت")||this.selectedServiceCategory?.name.includes("Market")},selectedMarket(){return this.markets.find(r=>r.id===this.newRequestForm.market_id)}},watch:{activeTab(r){const e=new URL(window.location);e.searchParams.set("tab",r),e.searchParams.delete("request_id"),window.history.replaceState(window.history.state,"",e),this.loadRequests()},"newRequestForm.service_category_id"(r){this.isMarketCategory&&this.loadMarkets()}},mounted(){const r=new URLSearchParams(window.location.search);r.has("request_id")&&this.openRequestDetails(parseInt(r.get("request_id"))),this.loadCategories(),this.loadRequests(),this.loadUnreadCount(),"serviceWorker"in navigator&&this.$page.props.auth.user&&navigator.serviceWorker.ready.then(e=>{e.active&&e.active.postMessage({type:"SET_USER_ID",userId:this.$page.props.auth.user.id})}),"Notification"in window&&Notification.permission!=="granted"?setTimeout(()=>N(),1e3):"Notification"in window&&Notification.permission==="granted"&&N(),window.addEventListener("fcm-message",this.handleFcmMessage),window.addEventListener("open-request-details",this.handleOpenRequestDetails)},beforeUnmount(){window.removeEventListener("fcm-message",this.handleFcmMessage),window.removeEventListener("open-request-details",this.handleOpenRequestDetails)},methods:{handleOpenRequestDetails(r){r.detail&&r.detail.requestId&&this.openRequestDetails(r.detail.requestId)},handleFcmMessage(r){const e=r.detail;e?.data?.sender_id&&this.$page.props.auth.user&&e.data.sender_id==this.$page.props.auth.user.id||(this.unreadNotificationsCount++,this.showNotificationsModal&&this.loadNotifications(),e?.data?.request_id&&this.loadRequests())},async triggerRefresh(){this.loadRequests(),this.loadCategories(),this.loadUnreadCount()},getServiceColor(r){const e=["bg-blue-50 text-blue-600 border-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:border-blue-800/50","bg-emerald-50 text-emerald-600 border-emerald-100 dark:bg-emerald-900/20 dark:text-emerald-400 dark:border-emerald-800/50","bg-purple-50 text-purple-600 border-purple-100 dark:bg-purple-900/20 dark:text-purple-400 dark:border-purple-800/50","bg-amber-50 text-amber-600 border-amber-100 dark:bg-amber-900/20 dark:text-amber-400 dark:border-amber-800/50","bg-rose-50 text-rose-600 border-rose-100 dark:bg-rose-900/20 dark:text-rose-400 dark:border-rose-800/50","bg-cyan-50 text-cyan-600 border-cyan-100 dark:bg-cyan-900/20 dark:text-cyan-400 dark:border-cyan-800/50"];return e[r%e.length]},async loadMarkets(){try{const r=await m.get("/api/markets");r.data.success&&(this.markets=r.data.markets)}catch(r){console.error(r)}},addItem(){this.items.push({name:"",quantity:""})},removeItem(r){this.items.splice(r,1)},async loadRequests(){this.loading=!0;try{const r=await m.get(`/api/requests?status=${this.activeTab}`);r.data.success&&(this.requests=r.data.requests.data)}catch(r){console.error(r)}finally{this.loading=!1}},async loadCategories(){try{const r=await m.get("/api/active-categories");r.data.success&&(this.categories=r.data.categories)}catch(r){console.error(r)}},async submitNewRequest(){this.submittingRequest=!0;try{const r={...this.newRequestForm};this.isMarketCategory&&this.newRequestForm.market_id&&(r.items=this.items.filter(c=>c.name.trim()!==""));const e=await m.post("/api/requests",r);e.data.success?(this.showNewRequestModal=!1,this.newRequestForm={service_category_id:"",market_id:"",notes:""},this.items=[{name:"",quantity:""}],window.showToast("تم إرسال طلبك بنجاح","success"),this.activeTab="pending"):window.showToast(e.data.message||"حدث خطأ","error")}catch{window.showToast("حدث خطأ أثناء إرسال الطلب","error")}finally{this.submittingRequest=!1}},async openRequestDetails(r,e=null){e&&(this.loadingKey=e),this.showRequestDetailsModal=!0,this.$nextTick(()=>{const c=new URL(window.location);c.searchParams.set("request_id",r),window.history.replaceState(window.history.state,"",c)}),this.loadingProposals=!0,this.currentProposals=[],this.selectedRequest=this.requests.find(c=>c.id===r);try{const c=await m.get(`/api/requests/${r}`);c.data.success&&(this.selectedRequest=c.data.request,this.currentProposals=c.data.request?.proposals||[])}catch(c){console.error(c),window.showToast("تعذر تحميل التفاصيل","error")}finally{this.loadingProposals=!1,e&&(this.loadingKey=null)}},acceptProposal(r){this.confirmMessage="هل أنت متأكد من قبول هذا العرض؟ سيتم بدء العمل فوراً وسيتم خصم المبلغ المتفق عليه.",this.showConfirmModal=!0,this.confirmAction=async()=>{this.processingConfirm=!0;try{const e=await m.post(`/api/proposals/${r.id}/accept`);e.data.success?(window.showToast("تم قبول العرض بنجاح","success"),this.showRequestDetailsModal=!1,this.showConfirmModal=!1,this.activeTab="accepted_offer",this.loadRequests()):(window.showToast(e.data.message,"error"),this.showConfirmModal=!1)}catch{window.showToast("حدث خطأ أثناء قبول العرض","error"),this.showConfirmModal=!1}finally{this.processingConfirm=!1}}},handleNotificationClick(r){r.is_read||(m.post(`/api/notifications/${r.id}/read`).catch(()=>{}),r.is_read=!0,this.unreadNotificationsCount=Math.max(0,this.unreadNotificationsCount-1));const e=r.data?.request_id;if(e){if(window.history.state?.modal){const c={...window.history.state};delete c.modal,window.history.replaceState(c,"",window.location.href)}this.showNotificationsModal=!1,this.openRequestDetails(e)}else this.showNotificationsModal=!1},openRating(r){this.selectedRequest=r,this.showRatingModal=!0,this.currentRating=5,this.ratingComment=""},async submitRating(){if(this.selectedRequest){this.submittingRate=!0;try{const r=await m.post("/api/reviews",{request_id:this.selectedRequest.id,rating:this.currentRating,comment:this.ratingComment});r.data.success?(window.showToast("شكراً لتقييمك!","success"),this.activeTab="completed",this.showRatingModal=!1,setTimeout(()=>{this.showRequestDetailsModal=!1},300),this.loadRequests()):window.showToast(r.data.message,"error")}catch{window.showToast("حدث خطأ","error")}finally{this.submittingRate=!1}}},confirmCancelRequest(r){this.confirmMessage="هل أنت متأكد من إلغاء هذا الطلب؟ لن تتمكن من التراجع عن هذا الإجراء.",this.showConfirmModal=!0,this.confirmAction=async()=>{this.processingConfirm=!0;try{const e=await m.post(`/api/requests/${r.id}/cancel`);e.data.success?(window.showToast("تم إلغاء الطلب بنجاح","success"),this.showRequestDetailsModal=!1,this.showConfirmModal=!1,this.activeTab="cancelled",this.loadRequests()):(window.showToast(e.data.message||"حدث خطأ","error"),this.showConfirmModal=!1)}catch(e){console.error(e),window.showToast("حدث خطأ أثناء إلغاء الطلب","error"),this.showConfirmModal=!1}finally{this.processingConfirm=!1}}},async loadNotifications(){this.loadingNotifications=!0;try{const r=await m.get("/api/notifications");r.data.success&&(this.notifications=r.data.notifications.data||r.data.notifications,this.nextNotificationsUrl=r.data.notifications.next_page_url||null,r.data.unread_count!==void 0&&(this.unreadNotificationsCount=r.data.unread_count))}catch(r){console.error(r)}finally{this.loadingNotifications=!1}},async loadMoreNotifications(){if(!(!this.nextNotificationsUrl||this.loadingMoreNotifications)){this.loadingMoreNotifications=!0;try{const r=await m.get(this.nextNotificationsUrl);r.data.success&&(this.notifications=[...this.notifications,...r.data.notifications.data],this.nextNotificationsUrl=r.data.notifications.next_page_url||null)}catch(r){console.error(r)}finally{this.loadingMoreNotifications=!1}}},async markAllNotificationsAsRead(){this.loadingMarkAll=!0;try{(await m.post("/api/notifications/read-all")).data.success&&(this.notifications.forEach(e=>e.is_read=!0),this.unreadNotificationsCount=0,window.showToast("تم تحديد الكل كمقروء","success"))}catch(r){console.error(r),window.showToast("حدث خطأ","error")}finally{this.loadingMarkAll=!1}},async loadUnreadCount(){try{const r=await m.get("/api/notifications/unread-count");r.data.success&&(this.unreadNotificationsCount=r.data.count)}catch{}},formatDate(r){return new Date(r).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}},E={class:"relative flex h-[100vh] w-full flex-col overflow-hidden max-w-md mx-auto bg-background-light dark:bg-background-dark font-display",dir:"rtl"},B={class:"sticky top-0 z-20 bg-background-light/95 dark:bg-background-dark/95 backdrop-blur-md border-b border-slate-100 dark:border-slate-800/10 transition-all duration-200",style:{"padding-top":"env(safe-area-inset-top)"}},K={class:"flex items-center justify-between px-4 py-3"},H={class:"flex items-center gap-3"},O={class:"flex flex-col"},W={class:"text-sm font-bold text-slate-900 dark:text-white leading-none"},G={key:0,class:"absolute top-2 right-2 size-2 bg-red-500 rounded-full border border-white dark:border-surface-dark"},J={class:"flex-1 overflow-y-auto overflow-x-hidden no-scrollbar pb-24"},Q={class:"flex flex-col gap-6 pt-4"},X={class:"px-4"},Y={class:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight"},Z={class:"px-4"},$={class:"flex flex-wrap justify-center gap-y-6 gap-x-2"},ee=["onClick"],te={class:"material-symbols-outlined text-[32px]"},se={class:"text-xs font-bold text-slate-700 dark:text-slate-300 text-center px-1"},oe={class:"px-4"},re={class:"flex flex-col gap-4"},ae={class:"flex flex-col gap-3"},ie={class:"overflow-x-auto no-scrollbar -mx-4 px-4 pb-2"},le={class:"flex gap-2 min-w-max pr-4"},ne=["onClick"],de={class:"flex flex-col gap-3 px-4"},ce={key:0,class:"text-center py-8 text-slate-400"},ue={key:1,class:"text-center py-8 text-slate-400"},me=["onClick"],pe={key:0,class:"absolute inset-0 bg-white/60 dark:bg-slate-900/60 backdrop-blur-[1px] flex items-center justify-center z-10 transition-all"},be={class:"flex items-start justify-between gap-4"},fe={class:"flex items-center gap-4"},xe={class:"material-symbols-outlined"},ge={class:"flex flex-col"},he={class:"text-base font-bold text-slate-900 dark:text-white leading-tight"},ye={class:"text-sm text-slate-500 dark:text-slate-400 mt-1"},ke={class:"shrink-0"},we={key:1,class:"mt-3 flex items-center justify-center gap-1 text-xs font-semibold text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20 px-3 py-2 rounded-xl w-full"},ve=["onClick"],_e={class:"fixed bottom-0 left-0 right-0 bg-white/95 dark:bg-surface-dark/95 backdrop-blur-md border-t border-slate-200 dark:border-slate-800 pb-safe z-40"},Re={class:"flex items-center justify-around h-16 max-w-md mx-auto"},qe={class:"space-y-6"},Ce={class:"space-y-2"},Me={class:"relative"},Ne=["value"],je={key:0,class:"space-y-4 animate-fadeIn"},Te={key:0,class:"space-y-3"},De={key:0,class:"grid grid-cols-1 gap-3"},Fe=["onClick"],Pe={class:"font-bold text-slate-900 dark:text-white"},Se={class:"text-xs text-slate-500"},Ue={key:1,class:"text-center py-4 text-slate-400"},ze={key:1,class:"space-y-4"},Ae={class:"flex items-center justify-between bg-primary/5 p-3 rounded-lg border border-primary/10"},Ie={class:"flex items-center gap-2"},Le={class:"font-bold text-primary"},Ve={class:"space-y-3"},Ee=["onUpdate:modelValue"],Be=["onUpdate:modelValue"],Ke=["onClick","disabled"],He={class:"space-y-2"},Oe={key:1,class:"space-y-6"},We={key:0,class:"space-y-2"},Ge={class:"flex flex-col gap-3"},Je=["onClick"],Qe={class:"space-y-2"},Xe=["disabled"],Ye={key:0,class:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"},Ze={key:0,class:"space-y-6"},$e={class:"flex items-center gap-3 border-b border-slate-100 dark:border-slate-800 pb-4"},et={class:"flex items-center justify-center size-14 rounded-2xl bg-slate-50 dark:bg-slate-800 text-primary"},tt={class:"material-symbols-outlined text-[28px]"},st={class:"font-bold text-lg text-slate-900 dark:text-white"},ot={class:"text-sm text-slate-500 dark:text-slate-400"},rt={key:0,class:"bg-gray-50 dark:bg-slate-800/50 rounded-xl p-4 border border-slate-200 dark:border-slate-700"},at={class:"flex items-center justify-between mb-3"},it={key:0,class:"text-[10px] font-bold bg-white dark:bg-slate-700 px-2 py-0.5 rounded-full text-primary border border-primary/20"},lt={class:"space-y-1"},nt={class:"flex items-center gap-2"},dt={key:0,class:"material-symbols-outlined text-white text-[12px] font-bold"},ct={class:"flex flex-col"},ut={key:0,class:"text-[9px] font-bold text-emerald-600 dark:text-emerald-400 uppercase tracking-tighter"},mt={key:0,class:"text-xs bg-white dark:bg-slate-700 px-2 py-1 rounded-lg border border-slate-200 dark:border-slate-600 font-bold text-slate-500 dark:text-slate-300"},pt={key:1,class:"bg-blue-50 dark:bg-blue-900/20 rounded-xl p-4 border border-blue-100 dark:border-blue-800"},bt={class:"flex items-center justify-between"},ft={class:"flex items-center gap-3"},xt={class:"font-bold text-slate-900 dark:text-white text-sm"},gt={class:"text-xs text-slate-500"},ht={class:"font-bold text-lg text-emerald-600"},yt={key:2,class:"space-y-3"},kt={class:"flex items-center justify-between"},wt={class:"font-bold text-slate-900 dark:text-white"},vt={key:0,class:"text-center py-6 text-slate-400"},_t={key:1,class:"text-center py-6 text-slate-400 bg-slate-50 dark:bg-slate-800/50 rounded-xl border border-dashed border-slate-200 dark:border-slate-700"},Rt={key:2,class:"space-y-3"},qt={class:"flex justify-between items-start mb-3"},Ct={class:"flex items-center gap-3"},Mt={class:"font-bold text-slate-900 dark:text-white text-sm"},Nt={class:"flex items-center gap-1 text-xs text-amber-500"},jt={class:"font-medium text-slate-700 dark:text-slate-300"},Tt={class:"text-slate-400"},Dt={class:"font-bold text-lg text-emerald-600"},Ft={key:0,class:"text-sm text-slate-600 dark:text-slate-300 bg-slate-50 dark:bg-slate-900/50 p-2 rounded-lg mb-3"},Pt=["onClick"],St={key:3,class:"pt-2"},Ut={key:4,class:"pt-2"},zt={class:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-xl border border-amber-200 dark:border-amber-800"},At={class:"flex items-center justify-between mb-2"},It={class:"flex items-center gap-1 bg-amber-100 dark:bg-amber-900/40 px-2 py-1 rounded-lg"},Lt={class:"font-bold text-amber-600 dark:text-amber-400 text-sm"},Vt={key:0,class:"text-sm text-slate-600 dark:text-slate-300 leading-relaxed"},Et={class:"text-xs text-slate-400 mt-2"},Bt={key:5,class:"pt-2"},Kt={key:0,class:"flex items-center justify-between mb-4 px-1"},Ht=["disabled"],Ot={key:0,class:"material-symbols-outlined animate-spin text-[14px]"},Wt={class:"space-y-3"},Gt={key:0,class:"text-center py-12 text-slate-400"},Jt={key:1,class:"text-center py-8 text-slate-400"},Qt=["onClick"],Xt={class:"flex-1 min-w-0"},Yt={class:"text-sm font-bold text-slate-900 dark:text-white"},Zt={class:"text-xs text-slate-500 dark:text-slate-400 mt-0.5"},$t={class:"text-[10px] text-slate-400 mt-1"},es={key:0,class:"size-2 bg-primary rounded-full flex-shrink-0 mt-2"},ts=["disabled"],ss={key:0,class:"material-symbols-outlined animate-spin text-[18px]"},os={class:"text-center space-y-4"},rs={class:"flex justify-center gap-2",dir:"ltr"},as=["onClick"],is=["disabled"],ls={key:0,class:"material-symbols-outlined animate-spin"},ns={class:"space-y-4"},ds={class:"bg-amber-50 dark:bg-amber-900/20 p-4 rounded-xl flex gap-3 text-amber-800 dark:text-amber-200"},cs={class:"text-sm font-medium leading-relaxed"},us={class:"flex gap-3"},ms=["disabled"],ps={key:0,class:"material-symbols-outlined animate-spin text-[18px]"};function bs(r,e,c,R,o,l){const j=v("Head"),T=v("Toast"),D=v("PullToRefresh"),q=v("Link"),w=v("Modal");return i(),a(p,null,[b(j,{title:"لوحة التحكم - ساكن"}),b(T),t("div",E,[t("header",B,[t("div",K,[t("div",H,[t("div",{class:"bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10 ring-2 ring-white dark:ring-slate-700 shadow-sm",style:C(`background-image: url('${l.user.photo||"https://ui-avatars.com/api/?name="+l.user.name}');`)},null,4),t("div",O,[e[22]||(e[22]=t("span",{class:"text-xs font-medium text-slate-500 dark:text-slate-400 uppercase tracking-wider"},"ساكن",-1)),t("span",W,n(l.user.block_no&&l.user.apt_no?`مبنى ${l.user.block_no}${l.user.floor?"، الطابق "+l.user.floor:""}، شقة ${l.user.apt_no}`:"يرجى تحديث العنوان"),1)])]),t("button",{onClick:e[0]||(e[0]=s=>{o.showNotificationsModal=!0,l.loadNotifications()}),class:"flex items-center justify-center size-10 rounded-full bg-white dark:bg-surface-dark text-slate-600 dark:text-slate-300 shadow-sm border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700 transition-colors relative"},[e[23]||(e[23]=t("span",{class:"material-symbols-outlined text-[24px]"},"notifications",-1)),o.unreadNotificationsCount>0?(i(),a("span",G)):d("",!0)])])]),t("div",J,[b(D,{onRefresh:l.triggerRefresh},{default:g(()=>[t("main",Q,[t("div",X,[t("h1",Y,[e[24]||(e[24]=k("صباح الخير،",-1)),e[25]||(e[25]=t("br",null,null,-1)),k(n(l.user.name?.split(" ")[0]),1)])]),t("div",Z,[e[26]||(e[26]=t("div",{class:"flex items-center justify-between mb-3"},[t("h2",{class:"text-base font-bold text-slate-900 dark:text-white"},"خدمات سريعة")],-1)),t("div",$,[(i(!0),a(p,null,f(o.categories,(s,u)=>(i(),a("button",{key:s.id,onClick:h=>{o.newRequestForm.service_category_id=s.id,o.showNewRequestModal=!0},class:"flex flex-col items-center gap-2 group flex-1 min-w-[75px] max-w-[45%] transition-all duration-300"},[t("div",{class:x(["flex items-center justify-center size-16 rounded-[22px] border group-hover:scale-110 group-active:scale-95 transition-all duration-300 shadow-sm",l.getServiceColor(u)])},[t("span",te,n(s.icon),1)],2),t("span",se,n(s.name),1)],8,ee))),128))])]),t("div",oe,[t("button",{onClick:e[1]||(e[1]=s=>o.showNewRequestModal=!0),class:"w-full flex items-center justify-center gap-2 bg-primary hover:bg-blue-600 text-white font-bold h-14 rounded-xl shadow-lg shadow-blue-500/20 active:scale-[0.98] transition-all duration-200"},[...e[27]||(e[27]=[t("span",{class:"material-symbols-outlined"},"add_circle",-1),t("span",null,"طلب خدمة جديدة",-1)])])]),t("div",re,[t("div",ae,[e[28]||(e[28]=t("div",{class:"px-4 flex items-center justify-between"},[t("h2",{class:"text-lg font-bold text-slate-900 dark:text-white"},"سجل الطلبات"),t("a",{class:"text-sm font-semibold text-primary hover:text-blue-500",href:"#"},"عرض الكل")],-1)),t("div",ie,[t("div",le,[(i(!0),a(p,null,f(o.tabs,s=>(i(),a("button",{key:s.id,onClick:u=>o.activeTab=s.id,class:x(["h-8 px-4 rounded-full text-sm font-semibold shadow-sm transition-colors border",o.activeTab===s.id?"bg-slate-900 dark:bg-white text-white dark:text-slate-900 border-slate-900 dark:border-white":"bg-white dark:bg-surface-dark border-slate-200 dark:border-slate-700 text-slate-600 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800"])},n(s.label),11,ne))),128))])])]),t("div",de,[o.loading?(i(),a("div",ce,[...e[29]||(e[29]=[t("span",{class:"material-symbols-outlined text-4xl animate-spin"},"progress_activity",-1)])])):o.requests.length===0?(i(),a("div",ue,[...e[30]||(e[30]=[t("span",{class:"material-symbols-outlined text-4xl"},"inbox",-1),t("p",{class:"mt-2"},"لا توجد طلبات",-1)])])):d("",!0),(i(!0),a(p,null,f(o.requests,(s,u)=>(i(),a("div",{key:s.id,onClick:h=>l.openRequestDetails(s.id,"req-"+s.id),class:"group flex flex-col bg-white dark:bg-surface-dark p-4 rounded-2xl shadow-sm border border-slate-200 dark:border-slate-700 active:bg-slate-50 dark:active:bg-slate-800 transition-colors cursor-pointer relative overflow-hidden"},[o.loadingKey==="req-"+s.id?(i(),a("div",pe,[...e[31]||(e[31]=[t("span",{class:"material-symbols-outlined animate-spin text-primary text-3xl"},"progress_activity",-1)])])):d("",!0),t("div",be,[t("div",fe,[t("div",{class:x(["flex items-center justify-center size-12 rounded-xl shrink-0",l.getServiceColor(u)])},[t("span",xe,n(s.category?.icon),1)],2),t("div",ge,[t("h3",he,n(s.category?.name),1),t("p",ye,n(l.formatDate(s.created_at)),1)])]),t("div",ke,[t("span",{class:x(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold",{"bg-orange-100 dark:bg-orange-900/40 text-orange-700 dark:text-orange-300":s.status==="pending","bg-blue-100 dark:bg-blue-900/40 text-blue-700 dark:text-blue-300":s.status==="accepted_offer","bg-purple-100 dark:bg-purple-900/40 text-purple-700 dark:text-purple-300":s.status==="in_progress","bg-emerald-100 dark:bg-emerald-900/40 text-emerald-700 dark:text-emerald-300":s.status==="completed","bg-red-100 dark:bg-red-900/40 text-red-700 dark:text-red-300":s.status==="cancelled"}])},n(s.status==="pending"?"قيد الانتظار":s.status==="accepted_offer"?"تم قبول عرض":s.status==="in_progress"?"جاري التنفيذ":s.status==="completed"?"مكتمل":s.status==="cancelled"?"ملغي":s.status),3)])]),s.delivery_method?(i(),a("div",we,[e[32]||(e[32]=t("span",{class:"material-symbols-outlined text-[16px]"},"directions_car",-1)),t("span",null,n(s.delivery_method),1)])):d("",!0),s.status==="completed"&&!s.review?(i(),a("button",{key:2,onClick:S(h=>l.openRating(s),["stop"]),class:"mt-3 w-full py-2 bg-amber-400 text-white rounded-lg text-sm font-bold shadow-sm hover:bg-amber-500 transition-colors flex items-center justify-center gap-1"},[...e[33]||(e[33]=[t("span",{class:"material-symbols-outlined text-[18px]"},"star",-1),k(" تقييم الخدمة ",-1)])],8,ve)):d("",!0)],8,me))),128))])])])]),_:1},8,["onRefresh"])]),t("nav",_e,[t("div",Re,[b(q,{href:"/dashboard",class:"flex flex-col items-center justify-center flex-1 h-full gap-1 text-primary"},{default:g(()=>[...e[34]||(e[34]=[t("span",{class:"material-symbols-outlined fill-1"},"home",-1),t("span",{class:"text-[10px] font-bold"},"الرئيسية",-1)])]),_:1}),b(q,{href:"/help",class:"flex flex-col items-center justify-center flex-1 h-full gap-1 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors"},{default:g(()=>[...e[35]||(e[35]=[t("span",{class:"material-symbols-outlined"},"volunteer_activism",-1),t("span",{class:"text-[10px] font-medium"},"مساعدة",-1)])]),_:1}),b(q,{href:"/settings",class:"flex flex-col items-center justify-center flex-1 h-full gap-1 text-slate-400 dark:text-slate-500 hover:text-slate-600 dark:hover:text-slate-300 transition-colors"},{default:g(()=>[...e[36]||(e[36]=[t("span",{class:"material-symbols-outlined"},"person",-1),t("span",{class:"text-[10px] font-medium"},"الحساب",-1)])]),_:1})])]),b(w,{show:o.showNewRequestModal,title:"طلب خدمة جديدة",onClose:e[8]||(e[8]=s=>o.showNewRequestModal=!1)},{default:g(()=>[t("div",qe,[t("div",Ce,[e[39]||(e[39]=t("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300"},"نوع الخدمة",-1)),t("div",Me,[y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>o.newRequestForm.service_category_id=s),class:"w-full appearance-none rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 p-4 pr-10 text-base font-medium text-slate-900 dark:text-white focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary transition-colors"},[e[37]||(e[37]=t("option",{disabled:"",value:""},"اختر نوع الخدمة",-1)),(i(!0),a(p,null,f(o.categories,s=>(i(),a("option",{key:s.id,value:s.id},n(s.name),9,Ne))),128))],512),[[M,o.newRequestForm.service_category_id]]),e[38]||(e[38]=t("div",{class:"pointer-events-none absolute inset-y-0 left-0 flex items-center px-4 text-slate-500"},[t("span",{class:"material-symbols-outlined"},"expand_more")],-1))])]),l.isMarketCategory?(i(),a("div",je,[o.newRequestForm.market_id?(i(),a("div",ze,[t("div",Ae,[t("div",Ie,[e[43]||(e[43]=t("span",{class:"material-symbols-outlined text-primary"},"store",-1)),t("span",Le,n(l.selectedMarket?.name),1)]),t("button",{onClick:e[3]||(e[3]=s=>o.newRequestForm.market_id=""),class:"text-xs font-bold text-slate-500 hover:text-red-500 transition-colors"},"تغيير")]),t("div",Ve,[e[46]||(e[46]=t("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300"},"قائمة الطلبات",-1)),(i(!0),a(p,null,f(o.items,(s,u)=>(i(),a("div",{key:u,class:"flex gap-2 animate-fadeIn"},[y(t("input",{"onUpdate:modelValue":h=>s.name=h,placeholder:"اسم المنتج (مثال: حليب)",class:"flex-1 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 p-3 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary"},null,8,Ee),[[_,s.name]]),y(t("input",{"onUpdate:modelValue":h=>s.quantity=h,placeholder:"العدد",class:"w-20 rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 p-3 text-sm focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary text-center"},null,8,Be),[[_,s.quantity]]),t("button",{onClick:h=>l.removeItem(u),class:"size-11 flex items-center justify-center text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors",disabled:o.items.length===1},[...e[44]||(e[44]=[t("span",{class:"material-symbols-outlined"},"delete",-1)])],8,Ke)]))),128)),t("button",{onClick:e[4]||(e[4]=(...s)=>l.addItem&&l.addItem(...s)),class:"w-full py-3 border-2 border-dashed border-slate-200 dark:border-slate-700 rounded-xl text-slate-500 hover:border-primary hover:text-primary hover:bg-primary/5 transition-all flex items-center justify-center gap-2 font-bold text-sm"},[...e[45]||(e[45]=[t("span",{class:"material-symbols-outlined"},"add",-1),t("span",null,"إضافة منتج آخر",-1)])])]),t("div",He,[e[47]||(e[47]=t("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300"},"ملاحظات إضافية",-1)),y(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=s=>o.newRequestForm.notes=s),class:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 p-3 text-sm h-20 resize-none focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary",placeholder:"أي تعليمات خاصة للمندوب..."},null,512),[[_,o.newRequestForm.notes]])])])):(i(),a("div",Te,[e[42]||(e[42]=t("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300"},"اختر المتجر",-1)),o.markets.length>0?(i(),a("div",De,[(i(!0),a(p,null,f(o.markets,s=>(i(),a("div",{key:s.id,onClick:u=>o.newRequestForm.market_id=s.id,class:"cursor-pointer bg-white dark:bg-slate-800 p-4 rounded-xl border border-slate-200 dark:border-slate-700 hover:border-primary hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-all flex items-center gap-4"},[e[40]||(e[40]=t("div",{class:"size-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-500"},[t("span",{class:"material-symbols-outlined"},"storefront")],-1)),t("div",null,[t("p",Pe,n(s.name),1),t("p",Se,n(s.description),1)])],8,Fe))),128))])):(i(),a("div",Ue,[...e[41]||(e[41]=[t("span",{class:"material-symbols-outlined text-3xl"},"store_off",-1),t("p",{class:"text-sm mt-1"},"لا توجد متاجر متاحة حالياً",-1)])]))]))])):(i(),a("div",Oe,[l.availableDeliveryMethods.length>0?(i(),a("div",We,[e[48]||(e[48]=t("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300"},"طريقة تقديم الخدمة",-1)),t("div",Ge,[(i(!0),a(p,null,f(l.availableDeliveryMethods,(s,u)=>(i(),a("div",{key:u,onClick:h=>o.newRequestForm.delivery_method=s,class:x(["cursor-pointer rounded-xl border p-3 text-center transition-all w-full",o.newRequestForm.delivery_method===s?"border-primary bg-primary/5 text-primary font-bold":"border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-800 text-slate-600 hover:border-slate-300"])},n(s),11,Je))),128))])])):d("",!0),t("div",Qe,[e[49]||(e[49]=t("label",{class:"block text-sm font-semibold text-slate-700 dark:text-slate-300"},"تفاصيل الطلب",-1)),y(t("textarea",{"onUpdate:modelValue":e[6]||(e[6]=s=>o.newRequestForm.notes=s),class:"w-full rounded-xl border border-slate-200 dark:border-slate-700 bg-slate-50 dark:bg-slate-800/50 p-4 text-base font-normal text-slate-900 dark:text-white placeholder-slate-400 focus:border-primary focus:outline-none focus:ring-1 focus:ring-primary resize-none transition-colors",placeholder:"اكتب تفاصيل المشكلة...",rows:"4"},null,512),[[_,o.newRequestForm.notes]])])])),t("button",{onClick:e[7]||(e[7]=(...s)=>l.submitNewRequest&&l.submitNewRequest(...s)),disabled:o.submittingRequest||!o.newRequestForm.service_category_id||l.isMarketCategory&&!o.newRequestForm.market_id,class:"flex w-full items-center justify-center gap-2 rounded-xl bg-primary py-4 text-base font-bold text-white shadow-lg shadow-primary/25 hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-primary/20 transition-all active:scale-[0.98] disabled:opacity-50"},[o.submittingRequest?(i(),a("span",Ye)):d("",!0),e[50]||(e[50]=t("span",null,"تأكيد الطلب",-1)),e[51]||(e[51]=t("span",{class:"material-symbols-outlined",style:{"font-size":"20px"}},"arrow_back",-1))],8,Xe)])]),_:1},8,["show"]),b(w,{show:o.showRequestDetailsModal,title:"تفاصيل الطلب والعروض",onClose:e[12]||(e[12]=s=>o.showRequestDetailsModal=!1)},{default:g(()=>[o.selectedRequest?(i(),a("div",Ze,[t("div",$e,[t("div",et,[t("span",tt,n(o.selectedRequest.category?.icon),1)]),t("div",null,[t("h3",st,n(o.selectedRequest.category?.name),1),t("p",ot,n(l.formatDate(o.selectedRequest.created_at)),1),t("span",{class:x(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-bold mt-1",{"bg-orange-100 text-orange-700":o.selectedRequest.status==="pending","bg-blue-100 text-blue-700":o.selectedRequest.status==="accepted_offer","bg-purple-100 text-purple-700":o.selectedRequest.status==="in_progress","bg-emerald-100 text-emerald-700":o.selectedRequest.status==="completed","bg-red-100 text-red-700":o.selectedRequest.status==="cancelled"}])},n(o.selectedRequest.status==="pending"?"قيد الانتظار":o.selectedRequest.status==="accepted_offer"?"تم قبول عرض":o.selectedRequest.status==="in_progress"?"جاري التنفيذ":o.selectedRequest.status==="completed"?"مكتمل":o.selectedRequest.status==="cancelled"?"ملغي":o.selectedRequest.status),3)])]),o.selectedRequest.items&&o.selectedRequest.items.length>0?(i(),a("div",rt,[t("div",at,[e[52]||(e[52]=t("h4",{class:"font-bold text-slate-900 dark:text-white text-sm flex items-center gap-2"},[t("span",{class:"material-symbols-outlined text-primary text-[20px]"},"shopping_cart"),k(" قائمة المشتريات ")],-1)),o.selectedRequest.status==="in_progress"||o.selectedRequest.status==="completed"?(i(),a("span",it,n(o.selectedRequest.items.filter(s=>s.is_picked).length)+" / "+n(o.selectedRequest.items.length),1)):d("",!0)]),t("div",lt,[(i(!0),a(p,null,f(o.selectedRequest.items,s=>(i(),a("div",{key:s.id,class:"flex justify-between items-center py-2 border-b border-slate-200 dark:border-slate-700 last:border-0 border-dashed transition-all"},[t("div",nt,[o.selectedRequest.status==="in_progress"||o.selectedRequest.status==="completed"?(i(),a("div",{key:0,class:x(["size-5 rounded-md border flex items-center justify-center transition-all duration-300",s.is_picked?"bg-emerald-500 border-emerald-500 shadow-sm shadow-emerald-500/20":"border-slate-300 dark:border-slate-600"])},[s.is_picked?(i(),a("span",dt,"check")):d("",!0)],2)):d("",!0),t("div",ct,[t("span",{class:x(["font-bold text-sm transition-all duration-300",s.is_picked?"text-slate-400 line-through":"text-slate-800 dark:text-slate-200"])},n(s.name),3),s.is_picked?(i(),a("span",ut,"تم التجهيز")):d("",!0)])]),s.quantity?(i(),a("span",mt,n(s.quantity),1)):d("",!0)]))),128))])])):d("",!0),o.selectedRequest.accepted_proposal?(i(),a("div",pt,[e[53]||(e[53]=t("h4",{class:"font-bold text-blue-800 dark:text-blue-300 mb-2"},"العرض المقبول",-1)),t("div",bt,[t("div",ft,[t("div",{class:"size-10 rounded-full bg-white dark:bg-slate-800 bg-cover bg-center",style:C(`background-image: url('${o.selectedRequest.accepted_proposal.provider?.photo||"https://ui-avatars.com/api/?name="+o.selectedRequest.accepted_proposal.provider?.name}');`)},null,4),t("div",null,[t("p",xt,n(o.selectedRequest.accepted_proposal.provider?.name),1),t("p",gt,n(o.selectedRequest.accepted_proposal.provider?.phone),1)])]),t("span",ht,n(o.selectedRequest.accepted_proposal.price)+" ج.م",1)])])):d("",!0),o.selectedRequest.status==="pending"?(i(),a("div",yt,[t("div",kt,[t("h4",wt,"العروض المقدمة ("+n(o.currentProposals.length)+")",1),y(t("select",{"onUpdate:modelValue":e[9]||(e[9]=s=>o.proposalsSort=s),class:"text-sm border-0 bg-transparent text-slate-500 focus:ring-0 cursor-pointer"},[...e[54]||(e[54]=[t("option",{value:"default"},"الأفضل (تقييم وسعر)",-1),t("option",{value:"price_asc"},"الأقل سعراً",-1),t("option",{value:"rating_desc"},"الأعلى تقييماً",-1)])],512),[[M,o.proposalsSort]])]),o.loadingProposals?(i(),a("div",vt,[...e[55]||(e[55]=[t("span",{class:"material-symbols-outlined animate-spin text-2xl"},"progress_activity",-1)])])):o.currentProposals.length===0?(i(),a("div",_t,[...e[56]||(e[56]=[t("p",{class:"text-sm"},"لم يتم تقديم عروض بعد",-1)])])):(i(),a("div",Rt,[(i(!0),a(p,null,f(l.sortedProposals,s=>(i(),a("div",{key:s.id,class:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-100 dark:border-slate-700"},[t("div",qt,[t("div",Ct,[t("div",{class:"size-10 rounded-full bg-slate-100 dark:bg-slate-700 bg-cover bg-center",style:C(`background-image: url('${s.provider?.photo||"https://ui-avatars.com/api/?name="+s.provider?.name}');`)},null,4),t("div",null,[t("p",Mt,n(s.provider?.name),1),t("div",Nt,[e[57]||(e[57]=t("span",{class:"material-symbols-outlined text-[14px] filled"},"star",-1)),t("span",jt,n(s.provider?.rating_average||"0.0"),1),t("span",Tt,"("+n(s.provider?.rating_count||0)+")",1)])])]),t("span",Dt,n(s.price)+" ج.م",1)]),s.notes?(i(),a("p",Ft,n(s.notes),1)):d("",!0),t("button",{onClick:u=>l.acceptProposal(s),class:"w-full py-2.5 bg-primary text-white font-bold rounded-lg text-sm hover:bg-blue-600 transition-colors shadow-sm"}," قبول العرض ",8,Pt)]))),128))]))])):d("",!0),o.selectedRequest.status==="completed"&&!o.selectedRequest.review?(i(),a("div",St,[t("button",{onClick:e[10]||(e[10]=s=>l.openRating(o.selectedRequest)),class:"w-full py-3 bg-amber-400 text-white font-bold rounded-xl flex items-center justify-center gap-2 hover:bg-amber-500 transition-colors"},[...e[58]||(e[58]=[t("span",{class:"material-symbols-outlined"},"star",-1),k(" تقييم الخدمة المكتملة ",-1)])])])):d("",!0),o.selectedRequest.status==="completed"&&o.selectedRequest.review?(i(),a("div",Ut,[t("div",zt,[t("div",At,[e[60]||(e[60]=t("h4",{class:"font-bold text-slate-900 dark:text-white text-sm"},"تقييمك للخدمة",-1)),t("div",It,[t("span",Lt,n(o.selectedRequest.review.rating),1),e[59]||(e[59]=t("span",{class:"material-symbols-outlined text-[16px] text-amber-500 filled"},"star",-1))])]),o.selectedRequest.review.comment?(i(),a("p",Vt,n(o.selectedRequest.review.comment),1)):d("",!0),t("p",Et,n(l.formatDate(o.selectedRequest.review.created_at)),1)])])):d("",!0),o.selectedRequest.status==="pending"?(i(),a("div",Bt,[t("button",{onClick:e[11]||(e[11]=s=>l.confirmCancelRequest(o.selectedRequest)),class:"w-full py-3 bg-red-500 hover:bg-red-600 text-white font-bold rounded-xl flex items-center justify-center gap-2 transition-colors"},[...e[61]||(e[61]=[t("span",{class:"material-symbols-outlined"},"cancel",-1),k(" إلغاء الطلب ",-1)])])])):d("",!0)])):d("",!0)]),_:1},8,["show"]),b(w,{show:o.showNotificationsModal,title:"الإشعارات",onClose:e[15]||(e[15]=s=>o.showNotificationsModal=!1)},{default:g(()=>[o.notifications.length>0?(i(),a("div",Kt,[e[63]||(e[63]=t("h3",{class:"text-xs font-bold text-slate-400 uppercase tracking-wider"},"سجل التنبيهات",-1)),o.unreadNotificationsCount>0?(i(),a("button",{key:0,disabled:o.loadingMarkAll,onClick:e[13]||(e[13]=(...s)=>l.markAllNotificationsAsRead&&l.markAllNotificationsAsRead(...s)),class:"text-xs font-bold text-primary hover:underline flex items-center gap-1"},[o.loadingMarkAll?(i(),a("span",Ot,"progress_activity")):d("",!0),e[62]||(e[62]=t("span",null,"تحديد الكل كمقروء",-1))],8,Ht)):d("",!0)])):d("",!0),t("div",Wt,[o.loadingNotifications?(i(),a("div",Gt,[...e[64]||(e[64]=[t("span",{class:"material-symbols-outlined text-5xl animate-spin"},"progress_activity",-1),t("p",{class:"mt-3 text-sm font-medium"},"جاري تحميل الإشعارات...",-1)])])):o.notifications.length===0?(i(),a("div",Jt,[...e[65]||(e[65]=[t("span",{class:"material-symbols-outlined text-4xl"},"notifications_off",-1),t("p",{class:"mt-2"},"لا توجد إشعارات",-1)])])):d("",!0),(i(!0),a(p,null,f(o.notifications,s=>(i(),a("div",{key:s.id,onClick:u=>l.handleNotificationClick(s),class:x(["flex gap-3 p-3 rounded-xl cursor-pointer hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",s.is_read?"bg-slate-50 dark:bg-slate-800/50":"bg-primary/5 border border-primary/20"])},[e[66]||(e[66]=t("div",{class:"size-10 rounded-full flex items-center justify-center flex-shrink-0 shadow-sm bg-slate-100 text-slate-600"},[t("span",{class:"material-symbols-outlined"},"notifications")],-1)),t("div",Xt,[t("h4",Yt,n(s.title),1),t("p",Zt,n(s.body),1),t("p",$t,n(l.formatDate(s.created_at)),1)]),s.is_read?d("",!0):(i(),a("span",es))],10,Qt))),128)),o.nextNotificationsUrl?(i(),a("button",{key:2,onClick:e[14]||(e[14]=(...s)=>l.loadMoreNotifications&&l.loadMoreNotifications(...s)),disabled:o.loadingMoreNotifications,class:"w-full mt-2 py-3 text-sm font-bold text-primary bg-primary/10 dark:bg-primary/20 hover:bg-primary/20 rounded-xl transition-colors flex items-center justify-center gap-2"},[o.loadingMoreNotifications?(i(),a("span",ss,"progress_activity")):d("",!0),t("span",null,n(o.loadingMoreNotifications?"جاري التحميل...":"تحميل المزيد"),1)],8,ts)):d("",!0)])]),_:1},8,["show"]),b(w,{show:o.showRatingModal,title:"تقييم الخدمة",onClose:e[18]||(e[18]=s=>o.showRatingModal=!1)},{default:g(()=>[t("div",os,[e[68]||(e[68]=t("p",{class:"text-slate-600 dark:text-slate-300"},"كيف كانت تجربتك؟",-1)),t("div",rs,[(i(),a(p,null,f(5,s=>t("button",{key:s,onClick:u=>o.currentRating=s,class:x(["text-4xl transition-colors",s<=o.currentRating?"text-amber-400":"text-slate-200 dark:text-slate-700"])},"★",10,as)),64))]),y(t("textarea",{"onUpdate:modelValue":e[16]||(e[16]=s=>o.ratingComment=s),placeholder:"اكتب تعليقك هنا...",class:"w-full p-3 rounded-xl bg-slate-50 dark:bg-slate-700/50 border-0 focus:ring-2 focus:ring-amber-400 text-sm h-24 text-right resize-none"},null,512),[[_,o.ratingComment]]),t("button",{onClick:e[17]||(e[17]=(...s)=>l.submitRating&&l.submitRating(...s)),disabled:o.submittingRate,class:"w-full py-3 bg-primary text-white font-bold rounded-xl flex items-center justify-center gap-2"},[o.submittingRate?(i(),a("span",ls,"progress_activity")):d("",!0),e[67]||(e[67]=t("span",null,"إرسال التقييم",-1))],8,is)])]),_:1},8,["show"]),b(w,{show:o.showConfirmModal,title:"تأكيد الإجراء",onClose:e[21]||(e[21]=s=>o.showConfirmModal=!1)},{default:g(()=>[t("div",ns,[t("div",ds,[e[69]||(e[69]=t("span",{class:"material-symbols-outlined text-2xl flex-shrink-0"},"warning",-1)),t("p",cs,n(o.confirmMessage),1)]),t("div",us,[t("button",{onClick:e[19]||(e[19]=s=>o.showConfirmModal=!1),class:"flex-1 py-3 text-slate-600 dark:text-slate-300 font-bold bg-slate-100 dark:bg-slate-700/50 hover:bg-slate-200 dark:hover:bg-slate-700 rounded-xl transition-colors"}," إلغاء "),t("button",{onClick:e[20]||(e[20]=(...s)=>o.confirmAction&&o.confirmAction(...s)),disabled:o.processingConfirm,class:"flex-1 py-3 bg-primary text-white font-bold rounded-xl shadow-lg shadow-primary/20 flex items-center justify-center gap-2 hover:bg-blue-600 transition-colors"},[o.processingConfirm?(i(),a("span",ps,"progress_activity")):d("",!0),e[70]||(e[70]=t("span",null,"تأكيد",-1))],8,ms)])])]),_:1},8,["show"])])],64)}const ws=L(V,[["render",bs],["__scopeId","data-v-5d23988d"]]);export{ws as default};
